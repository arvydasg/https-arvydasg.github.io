<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2024-05-29 Wed 16:06 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Django heaven</title>
<meta name="author" content="Arvydas Gasparavicius" />
<meta name="description" content="welcome to my site" />
<meta name="keywords" content="emacs antanas geles" />
<meta name="generator" content="Org Mode" />

<link rel="stylesheet" href="./static/css/org-html-style-default.css" type="text/css"/>
<link rel="stylesheet" href="./static/css/generic.css" type="text/css"/>
<link rel="stylesheet" href="./static/css/taingram.css" type="text/css"/>
<link rel="stylesheet" href="./static/css/lightbox.css" type="text/css"/>
<link rel="stylesheet" href="./static/css/scroll-to-top.css" type="text/css"/>
<link rel="icon" href="./static/ag.ico">
<script>
  window.MathJax = {
    tex: {
      ams: {
        multlineWidth: '85%'
      },
      tags: 'ams',
      tagSide: 'right',
      tagIndent: '.8em'
    },
    chtml: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    svg: {
      scale: 1.0,
      displayAlign: 'center',
      displayIndent: '0em'
    },
    output: {
      font: 'mathjax-modern',
      displayOverflow: 'overflow'
    }
  };
</script>

<script
  id="MathJax-script"
  async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script>
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="sitemap.html">NOTES </a>
 
 <a accesskey="H" href="index.html"> HOME </a>
</div><div id="preamble" class="status">
<div id="updated">Updated: 2024-05-29 Wed 16:02</div>
</div>
<div id="content" class="content">
<header>
<h1 class="title">Django heaven</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org9a92e71">1. Useful resources (videos/reads)</a></li>
<li><a href="#orga3b22a9">2. Django commands</a></li>
<li><a href="#org7ff83aa">3. Django Admin</a>
<ul>
<li><a href="#orgad7f8cf">3.1. Custom filter</a></li>
<li><a href="#orgb30be56">3.2. Valid points why it is not a good idea to use Django Admin as primary UI for your projects</a>
<ul>
<li><a href="#orge0a6d55">3.2.1. Django docs</a></li>
<li><a href="#org7b951d3">3.2.2. Django forum</a></li>
<li><a href="#org3d36925">3.2.3. reddit</a></li>
<li><a href="#orgd571289">3.2.4. Knowledge from Django podcast</a></li>
</ul>
</li>
<li><a href="#org127e848">3.3. Move django inline fields with little bit of JS</a></li>
</ul>
</li>
<li><a href="#orgeed4b14">4. Django ORM</a>
<ul>
<li><a href="#org05bd5f0">4.1. Random queries</a></li>
<li><a href="#org13bf64e">4.2. Modify a record in db with python example</a>
<ul>
<li><a href="#org591cd7f">4.2.1. Method 1</a></li>
<li><a href="#org2e7868c">4.2.2. Method 2</a></li>
</ul>
</li>
<li><a href="#orgdbac8dc">4.3. Models "through" attribute</a></li>
<li><a href="#org4bb1eb6">4.4. Optimizing queries</a>
<ul>
<li><a href="#orga01bcc2">4.4.1. Caching</a></li>
<li><a href="#org5d83452">4.4.2. Others</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orgf5de32a">5. Print that info</a>
<ul>
<li><a href="#orge7ca9ec">5.1. Print attributes through <code>__init__</code></a></li>
<li><a href="#org1e3d9a0">5.2. Print <code>attrs, values, ojb, request</code> through <code>get_fields</code></a></li>
<li><a href="#org2aecc97">5.3. Check out debug-toolbar package.</a></li>
<li><a href="#org337cacf">5.4. See the <code>query</code> that django is executing</a></li>
<li><a href="#org629947e">5.5. Fetch <code>opt</code> values. Write this in the template</a></li>
<li><a href="#org80b3554">5.6. <code>opts</code> again</a></li>
<li><a href="#org2fef1fa">5.7. Print the current object</a></li>
<li><a href="#org211dcd8">5.8. Introspection!! Create an instance of a class and print out its attributes/methods</a></li>
<li><a href="#org4167e13">5.9. Built in <code>dir</code> and <code>locals</code> methods</a></li>
<li><a href="#orgf7145f5">5.10. Print <code>request</code> info on each page with <code>context_processor</code></a></li>
<li><a href="#org35481ee">5.11. Print out ALL the CONTEXT variables</a></li>
<li><a href="#org2de4580">5.12. Print out ALL info about the object</a></li>
<li><a href="#orgd52e1d6">5.13. Add a custom variable to object list</a></li>
<li><a href="#orgd23b01a">5.14. _meta !!!!!!!!!!!</a></li>
<li><a href="#org1d7c0ce">5.15. Create a debugging decorator! Printerino</a></li>
</ul>
</li>
<li><a href="#org848979a">6. Repetitive tasks</a></li>
<li><a href="#org434bb70">7. Debugging tools</a>
<ul>
<li><a href="#org4baa644">7.1. Asked in "dape" mode issue log</a></li>
<li><a href="#org3d1a9ce">7.2. Torstein reply</a></li>
<li><a href="#org173b068">7.3. Plumber and different tools</a></li>
</ul>
</li>
<li><a href="#org272a218">8. Useful packages</a>
<ul>
<li><a href="#orgc7b5d46">8.1. Debug toolbar</a></li>
<li><a href="#org1aeaa91">8.2. django extensions</a></li>
</ul>
</li>
<li><a href="#org9d970fe">9. CBV's</a>
<ul>
<li><a href="#orge602a2a">9.1. CBV's vs Function views?</a></li>
<li><a href="#org3ae1a7b">9.2. Mixins</a></li>
<li><a href="#org6575c18">9.3. args vs kwargs</a>
<ul>
<li><a href="#orgf39fece">9.3.1. Args</a></li>
<li><a href="#orgda59619">9.3.2. Kwargs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#orge260c04">10. <span class="todo TODO">TODO</span> Django best practices??????????????????????????/</a>
<ul>
<li><a href="#org938691e">10.1. Instead of /admin change to smth else URL Django</a></li>
<li><a href="#orgd17fda8">10.2. Use environment variables</a></li>
<li><a href="#orgea21a19">10.3. Use postgres db</a></li>
<li><a href="#org35916c6">10.4. Use two different settings files</a></li>
<li><a href="#org8803a47">10.5. Expanding user model to store more user information</a></li>
<li><a href="#org976d93e">10.6. Update django every major version once every 9 months</a></li>
<li><a href="#org73a9869">10.7. Renaming Django project</a></li>
<li><a href="#orgf7a3768">10.8. move apps to apps folder</a></li>
</ul>
</li>
</ul>
</div>
</nav>

<div id="outline-container-org9a92e71" class="outline-2">
<h2 id="org9a92e71"><span class="section-number-2">1.</span> Useful resources (videos/reads)</h2>
<div class="outline-text-2" id="text-1">
<ul class="org-ul">
<li><a href="https://books.agiliq.com/projects/django-admin-cookbook/en/latest/index.html)">Django Admin Cookbook</a> (various snippets for the Django Admin modifications)</li>
<li><a href="https://ccbv.co.uk/">Class based views relationships</a></li>
<li><a href="https://forum.djangoproject.com/">Django forum</a></li>
<li><a href="https://www.webforefront.com/django/classbasedviews.html">www.webforefront.com/django</a></li>
<li><a href="https://spapas.github.io/2018/03/19/comprehensive-django-cbv-guide/#output-non-html-views">A comprehensive Django CBV guide</a></li>
<li><a href="https://www.youtube.com/watch?v=GxA2I-n8NR8&amp;list=PLOLrQ9Pn6caxNb9eFZJ6LfY29nZkKmmXT&amp;index=1&amp;ab_channel=VeryAcademy">Good video tutorial on Django CBV's</a></li>
<li><a href="https://www.youtube.com/watch?v=qmKowZNmkCo&amp;ab_channel=DjangoConUS">DjangoCon 2019 - Generic View? What is that and why would I use it?</a></li>
<li><a href="https://www.youtube.com/watch?v=pLMH_wzyTjk&amp;list=PLaUQIPIyD0z43DiRKM0x8YNEB-1QNCOwR&amp;ab_channel=DjangoFullCourse">Good video tutorial on Django Forms</a></li>
<li><a href="https://gist.github.com/jim-clark/cc4e38a93a8a6036bfeac3899c7a49e1">Gist with Django Class-Based View Customization Tips</a></li>
<li>[[<a href="https://djangosnippets.org/">https://djangosnippets.org/</a></li>
</ul>
<p>
][Django snippets]]
</p>
</div>
</div>

<div id="outline-container-orga3b22a9" class="outline-2">
<h2 id="orga3b22a9"><span class="section-number-2">2.</span> Django commands</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">
<pre class="src src-bash">django-admin startproject mysite
python manage.py startapp appname
python manage.py createsuperuser
python manage.py makemigrations
python manage.py migrate
python manage.py migrate appname
python manage.py runserver
python manage.py shell
<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">If you have deleted migrations folder or it's content, running makemigrations</span>
<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">or migrate will not do anything. First need to run this:</span>
<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">https://stackoverflow.com/questions/34548768/no-such-table-exception</span>
python manage.py migrate --run-syncdb
python manage.py inspectdb
python manage.py migrate --fake app_name zero
</pre>
</div>
</div>
</div>

<div id="outline-container-org7ff83aa" class="outline-2">
<h2 id="org7ff83aa"><span class="section-number-2">3.</span> Django Admin</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li><a href="https://books.agiliq.com/projects/django-admin-cookbook/en/latest/index.html)">Django Admin Cookbook</a> (various snippets for the Django Admin modifications)</li>
</ul>
</div>

<div id="outline-container-orgad7f8cf" class="outline-3">
<h3 id="orgad7f8cf"><span class="section-number-3">3.1.</span> Custom filter</h3>
<div class="outline-text-3" id="text-3-1">
<p>
BigOrderFilter example - <a href="https://youtu.be/XphJRQ3AzMU?si=GH20CYKB5Ng2w2pl&amp;t=2525">https://youtu.be/XphJRQ3AzMU?si=GH20CYKB5Ng2w2pl&amp;t=2525</a>
</p>
</div>
</div>

<div id="outline-container-orgb30be56" class="outline-3">
<h3 id="orgb30be56"><span class="section-number-3">3.2.</span> Valid points why it is not a good idea to use Django Admin as primary UI for your projects</h3>
<div class="outline-text-3" id="text-3-2">
</div>
<div id="outline-container-orge0a6d55" class="outline-4">
<h4 id="orge0a6d55"><span class="section-number-4">3.2.1.</span> Django docs</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
<a href="https://docs.djangoproject.com/en/5.0/ref/contrib/admin/">https://docs.djangoproject.com/en/5.0/ref/contrib/admin/</a>
</p>

<blockquote>
<p>
The admin’s recommended use is limited to an organization’s internal management
tool. It’s not intended for building your entire front end around.
</p>
</blockquote>

<blockquote>
<p>
If you need to provide a more process-centric interface that abstracts away the
implementation details of database tables and fields, then it’s probably time
to write your own views.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org7b951d3" class="outline-4">
<h4 id="org7b951d3"><span class="section-number-4">3.2.2.</span> Django forum</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
<a href="https://forum.djangoproject.com/t/understanding-the-django-admin/28151">https://forum.djangoproject.com/t/understanding-the-django-admin/28151</a>
</p>


<blockquote>
<p>
Yes, you can spend a lot of time learning about how to customize the admin.
However, what I have learned over the years is that in the time you’ve spent learning how to do this, you generally could have completed your project twice-over by ignoring it.
I’ve seen this mistake made in a number of cases, and I know others who have encountered the same problem.
Just like you describe - the admin is deceptively simple to get something up and running. But as additional features and functionality are requested, you find yourself working more and more around the limitations of the admin. Soon, you reach a point where you’re spending far more time trying to figure out how to get the admin to do something than actually doing it.
What you end up with can quite frankly be described as a generally-unmaintainable mess.
So what I really suggest is the same thing that the authors of Django recommend.
Don’t do this. If you’re lucky and stay with Django long enough, you’ll realize how much of a mistake this can be.
</p>
</blockquote>

<blockquote>
<p>
The fact that a bad decision was made in the past does not justify continuing
to make that same bad decision today.
</p>
</blockquote>

<blockquote>
<p>
As a professional, it’s also your responsibility to identify these mistakes and
to demonstrate that there are better ways of handling this.
</p>
</blockquote>

<blockquote>
<p>
Sure, you can do this. But I’m going to continue to express my opinion here
that it’s fundamentally a poor idea. The “Technical Debt” you create by
focusing everything through the admin can be amazingly substantial.
</p>
</blockquote>

<blockquote>
<p>
The “two-years-from-today-you” will thank you.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-org3d36925" class="outline-4">
<h4 id="org3d36925"><span class="section-number-4">3.2.3.</span> reddit</h4>
<div class="outline-text-4" id="text-3-2-3">
<p>
<a href="https://www.reddit.com/r/django/comments/587gvr/django_admin_is_really_slow_any_thoughts_on_how/?rdt=50786">https://www.reddit.com/r/django/comments/587gvr/django_admin_is_really_slow_any_thoughts_on_how/?rdt=50786</a> 
</p>

<blockquote>
<p>
We use the django admin to manage tables with upwards of two million rows.
There are some tricks. All foreign keys must be read only. You shouldn't be
using the admin to control selections from tens of thousands of things. It just
isn't a reasonable interface. You could make it work for quite a while with
prefetch_related. You could make it work forever with a custom ajax
autocomplete. But you should probably consider not using that interface in the
admin and doing it in a view that you have full control over the UX.
</p>
</blockquote>
</div>
</div>

<div id="outline-container-orgd571289" class="outline-4">
<h4 id="orgd571289"><span class="section-number-4">3.2.4.</span> Knowledge from Django podcast</h4>
<div class="outline-text-4" id="text-3-2-4">
<p>
<a href="https://www.youtube.com/watch?v=f8cFjiyxQuQ&amp;ab_channel=PyCon2019">"Jacinda's PyCon talk</a> is a good one. I saw it in person so it made a big
impression at the time. <a href="https://youtu.be/XphJRQ3AzMU?si=aQoHSZseoyfmwuJM">Kenneth Love has a 3-hour tutorial</a> all about the admin.
And Jacinda also has an earlier <a href="https://youtu.be/5ajZMpTcUZU?si=ljNofojK9HFRWiJi">3-hour talk</a> on the admin."
</p>

<p>
There are multiple Django talks about abusing the admin. <b><b>41:06</b></b> -
<a href="https://open.spotify.com/episode/1JeC5GruYeqYsjNpegrOxI?si=1GodW0zVTYmQfqJwWhFfRQ&amp;t=2466">https://open.spotify.com/episode/1JeC5GruYeqYsjNpegrOxI?si=1GodW0zVTYmQfqJwWhFfRQ&amp;t=2466</a>
</p>

<p>
2min back - <a href="https://open.spotify.com/episode/1JeC5GruYeqYsjNpegrOxI?si=vhg_HKbISLa9QKA9FTQN9w">https://open.spotify.com/episode/1JeC5GruYeqYsjNpegrOxI?si=vhg_HKbISLa9QKA9FTQN9w</a>
</p>
</div>
</div>
</div>

<div id="outline-container-org127e848" class="outline-3">
<h3 id="org127e848"><span class="section-number-3">3.3.</span> Move django inline fields with little bit of JS</h3>
<div class="outline-text-3" id="text-3-3">
<p>
From shipping project.
</p>

<div class="org-src-container">
<pre class="src src-js"><span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">manual_ship_type_field</span> = document.querySelector(<span style="font-style: italic;">'div.field-manual_ship_type'</span>);
<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">whole_manual_mapping_block</span> = manual_ship_type_field.parentElement.parentElement;
<span style="font-weight: bold;">const</span> <span style="font-weight: bold; font-style: italic;">forecasted_values_block</span> = document.getElementById(<span style="font-style: italic;">'vessel_vessel_forecasted_value-group'</span>);
whole_manual_mapping_block.insertAdjacentElement(<span style="font-style: italic;">'afterend'</span>, forecasted_values_block);
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgeed4b14" class="outline-2">
<h2 id="orgeed4b14"><span class="section-number-2">4.</span> Django ORM</h2>
<div class="outline-text-2" id="text-4">
<ul class="org-ul">
<li>A video of <a href="https://www.youtube.com/watch?v=213swbH8j_o">how to do queries</a></li>
<li><a href="https://www.w3schools.com/django/django_insert_data.php">https://www.w3schools.com/django/django_insert_data.php</a></li>
<li><a href="https://www.youtube.com/watch?v=aHC3uTkT9r8&amp;list=PL-osiE80TeTtoQCKZ03TU5fNfx2UY6U4p&amp;index=5&amp;ab_channel=CoreySchafer">https://www.youtube.com/watch?v=aHC3uTkT9r8&amp;list=PL-osiE80TeTtoQCKZ03TU5fNfx2UY6U4p&amp;index=5&amp;ab_channel=CoreySchafer</a></li>
</ul>
</div>

<div id="outline-container-org05bd5f0" class="outline-3">
<h3 id="org05bd5f0"><span class="section-number-3">4.1.</span> Random queries</h3>
<div class="outline-text-3" id="text-4-1">
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> vessel.models <span style="font-weight: bold;">import</span> Vessel
<span style="font-weight: bold; font-style: italic;">x</span> = Vessel.objects.get(vessel_code=<span style="font-style: italic;">"1234567"</span>)
x
x.delete()
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> base.models <span style="font-weight: bold;">import</span> Blog_post, Projects, Tag
Blog_post.objects.<span style="font-weight: bold;">all</span>()

<span style="font-weight: bold; font-style: italic;">pirmas</span> = Blog_post.objects.first()
pirmas.tags
pirmas.tags.<span style="font-weight: bold;">all</span>()
pirmas.tags.first()
pirmas.tags.first().name
Blog_post.objects.<span style="font-weight: bold;">filter</span>(tags__name=<span style="font-style: italic;">'emacs'</span>)
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> deal.models <span style="font-weight: bold;">import</span> Deal
<span style="font-weight: bold;">from</span> django.contrib.auth.models <span style="font-weight: bold;">import</span> User
<span style="font-weight: bold; font-style: italic;">mng_user</span> = User.objects.get(username=<span style="font-style: italic;">"mng"</span>)
mng_user
&lt;User: mng&gt;
<span style="font-weight: bold; font-style: italic;">deal1</span> = Deal.objects.get(pk=2)
deal1
&lt;Deal: Deal 1&gt;
deal1.user
&lt;User: dev&gt;
deal1.<span style="font-weight: bold; font-style: italic;">user</span> = mng_user
deal1.user
&lt;User: mng&gt;
deal1.save()
</pre>
</div>
</div>
</div>

<div id="outline-container-org13bf64e" class="outline-3">
<h3 id="org13bf64e"><span class="section-number-3">4.2.</span> Modify a record in db with python example</h3>
<div class="outline-text-3" id="text-4-2">
</div>
<div id="outline-container-org591cd7f" class="outline-4">
<h4 id="org591cd7f"><span class="section-number-4">4.2.1.</span> Method 1</h4>
<div class="outline-text-4" id="text-4-2-1">
<div class="org-src-container">
<pre class="src src-bash">(venv) arvy@DESKTOP-AUDMJ7D:~/src/lifeapi$ python manage.py shell --settings=settings.development
Python 3.10.12 (main, Jun 11 2023, 05:26:28) [GCC 11.4.0] on linux
Type <span style="font-style: italic;">"help"</span>, <span style="font-style: italic;">"copyright"</span>, <span style="font-style: italic;">"credits"</span> or <span style="font-style: italic;">"license"</span> for more information.
(InteractiveConsole)

import os
<span style="font-weight: bold;">os.getcwd</span>()

from lifeapi_apps.quiz_app.models import Question

<span style="font-weight: bold;">Question.objects.all</span>()

&lt;QuerySet [&lt;Question: Workout - YN&gt;, &lt;Question: Meditate - YN&gt;, &lt;Question: Miegojimas - Scale&gt;]&gt;

from django.contrib.auth.models import User

user_id_1 = User.objects.get(<span style="font-weight: bold; font-style: italic;">pk</span>=1)

questions = Question.objects.all()

<span style="font-weight: bold;">questions.update</span>(<span style="font-weight: bold; font-style: italic;">created_by</span>=user_id_1)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2e7868c" class="outline-4">
<h4 id="org2e7868c"><span class="section-number-4">4.2.2.</span> Method 2</h4>
<div class="outline-text-4" id="text-4-2-2">
<p>
start by this, do whatever you want then
</p>

<div class="org-src-container">
<pre class="src src-python">python manage.py shell --settings=settings.development

<span style="font-weight: bold;">from</span> lifeapi_apps.quiz_app.models <span style="font-weight: bold;">import</span> Question, Answer
<span style="font-weight: bold;">from</span> django.contrib.auth.models <span style="font-weight: bold;">import</span> User

<span style="font-weight: bold; font-style: italic;">arvy_user</span> = User.objects.get(username=<span style="font-style: italic;">'arvy'</span>)
<span style="font-weight: bold; font-style: italic;">questions</span> = Question.objects.<span style="font-weight: bold;">filter</span>(created_by=arvy_user)

<span style="font-weight: bold;">for</span> question <span style="font-weight: bold;">in</span> questions:
    <span style="font-weight: bold;">print</span>(question.description)

<span style="font-weight: bold; font-style: italic;">questions</span> = Question.objects.<span style="font-weight: bold;">all</span>()
<span style="font-weight: bold;">print</span>(questions)

<span style="font-weight: bold; font-style: italic;">answers</span> = question.answer_set.<span style="font-weight: bold;">all</span>()
<span style="font-weight: bold;">print</span>(answers)

<span style="font-weight: bold; font-style: italic;">question_description</span> = <span style="font-style: italic;">"No Headache"</span>
<span style="font-weight: bold; font-style: italic;">question</span> = Question.objects.get(description=question_description)
<span style="font-weight: bold; font-style: italic;">question</span> = Question.objects.get(description=<span style="font-style: italic;">"No Headache"</span>, created_by=arvy_user)
<span style="font-weight: bold;">print</span>(question)

<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">think if you really want to rename this way!!! everything will be NO now.</span>
Answer.objects.<span style="font-weight: bold;">filter</span>(question=question, answer=<span style="font-style: italic;">"YES"</span>).update(answer=<span style="font-style: italic;">"NO"</span>)

<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">better do a for loop like such:</span>
<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Get all answers related to the question</span>
<span style="font-weight: bold; font-style: italic;">answers</span> = Answer.objects.<span style="font-weight: bold;">filter</span>(question=question)
<span style="font-weight: bold; font-style: italic;">answers</span> = Answer.objects.<span style="font-weight: bold;">filter</span>(question__description=<span style="font-style: italic;">"Belly ache"</span>)
<span style="font-weight: bold;">for</span> answer <span style="font-weight: bold;">in</span> answers:
    <span style="font-weight: bold;">if</span> answer.answer == <span style="font-style: italic;">"YES"</span>:
        answer.<span style="font-weight: bold; font-style: italic;">answer</span> = <span style="font-style: italic;">"NO"</span>
    <span style="font-weight: bold;">elif</span> answer.answer == <span style="font-style: italic;">"NO"</span>:
        answer.<span style="font-weight: bold; font-style: italic;">answer</span> = <span style="font-style: italic;">"YES"</span>
    answer.save()

<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">rename a question</span>
<span style="font-weight: bold; font-style: italic;">question_description</span> = <span style="font-style: italic;">"aciukas"</span>
<span style="font-weight: bold; font-style: italic;">question</span> = Question.objects.get(description=question_description)
<span style="font-weight: bold; font-style: italic;">question</span> = Question.objects.get(description=<span style="font-style: italic;">"No Headache"</span>, created_by=arvy_user)
question.<span style="font-weight: bold; font-style: italic;">description</span> = <span style="font-style: italic;">"No Alchohol"</span>
question.save()

<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Delete all answers related to the question</span>
Answer.objects.<span style="font-weight: bold;">filter</span>(question=question).delete()
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgdbac8dc" class="outline-3">
<h3 id="orgdbac8dc"><span class="section-number-3">4.3.</span> Models "through" attribute</h3>
<div class="outline-text-3" id="text-4-3">
<p>
This is the basic m2m relationship:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> django.db <span style="font-weight: bold;">import</span> models

<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">Vessel</span>(models.Model):
    <span style="font-weight: bold; font-style: italic;">name</span> = models.CharField(max_length=255)
    <span style="font-weight: bold; font-style: italic;">stock</span> = models.IntegerField(default=0)

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__str__</span>(<span style="font-weight: bold;">self</span>) -&gt; <span style="font-weight: bold;">str</span>:
        <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">self</span>.name


<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">Deal</span>(models.Model):        
    <span style="font-weight: bold; font-style: italic;">collateral</span> = models.ManyToManyField(
        Vessel,
        blank=<span style="font-weight: bold; text-decoration: underline;">True</span>,
    )
    <span style="font-weight: bold; font-style: italic;">register_date</span> = models.DateTimeField(
        null=<span style="font-weight: bold; text-decoration: underline;">True</span>,
        blank=<span style="font-weight: bold; text-decoration: underline;">True</span>
    )
    <span style="font-weight: bold; font-style: italic;">has_new</span> = models.BooleanField(
        default=<span style="font-weight: bold; text-decoration: underline;">True</span>,
        null=<span style="font-weight: bold; text-decoration: underline;">True</span>   
    )

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__str__</span>(<span style="font-weight: bold;">self</span>) -&gt; <span style="font-weight: bold;">str</span>:
        <span style="font-weight: bold;">return</span> f<span style="font-style: italic;">"#</span>{<span style="font-weight: bold;">self</span>.pk}<span style="font-style: italic;">"</span>
</pre>
</div>

<p>
Query the above created table in Django shell like so:
</p>

<div class="org-src-container">
<pre class="src src-python">In [9]: deal = Deal.objects.last()
In [10]: collateral_vessels = deal.collateral.<span style="font-weight: bold;">all</span>()
In [11]: <span style="font-weight: bold;">print</span>(collateral_vessels)
&lt;QuerySet [&lt;Vessel: Two&gt;, &lt;Vessel: Three&gt;]&gt;
</pre>
</div>

<p>
In the case above we CAN NOT control the <code>app_deal_collateral</code> table. Which is
sad&#x2026; let's say we want to control it, we then use the <code>through</code> attribute.
</p>

<p>
We will inform Django not to use the default table like above, but in this case
we want to use OUR OWN table.
</p>

<p>
We also infom that we WILL NOT want to control the collaterals over the DEAL
model/admin page, but over the Collaterals page/admin page:
</p>

<p>
Will do that with <code>through</code> attribute:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> django.db <span style="font-weight: bold;">import</span> models


<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">Vessel</span>(models.Model):
    <span style="font-weight: bold; font-style: italic;">name</span> = models.CharField(max_length=255)
    <span style="font-weight: bold; font-style: italic;">stock</span> = models.IntegerField(default=0)

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__str__</span>(<span style="font-weight: bold;">self</span>) -&gt; <span style="font-weight: bold;">str</span>:
        <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">self</span>.name


<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">Deal</span>(models.Model):        
    <span style="font-weight: bold; font-style: italic;">collaterals</span> = models.ManyToManyField(
        Vessel,
        blank=<span style="font-weight: bold; text-decoration: underline;">True</span>,
        through=<span style="font-style: italic;">'Collateral'</span>,
    )
    <span style="font-weight: bold; font-style: italic;">register_date</span> = models.DateTimeField(
        null=<span style="font-weight: bold; text-decoration: underline;">True</span>,
        blank=<span style="font-weight: bold; text-decoration: underline;">True</span>
    )
    <span style="font-weight: bold; font-style: italic;">has_new</span> = models.BooleanField(
        default=<span style="font-weight: bold; text-decoration: underline;">True</span>,
        null=<span style="font-weight: bold; text-decoration: underline;">True</span>   
    )

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__str__</span>(<span style="font-weight: bold;">self</span>) -&gt; <span style="font-weight: bold;">str</span>:
        <span style="font-weight: bold;">return</span> f<span style="font-style: italic;">"#</span>{<span style="font-weight: bold;">self</span>.pk}<span style="font-style: italic;">"</span>


<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">Collateral</span>(models.Model):
    <span style="font-weight: bold; font-style: italic;">vessel</span> = models.ForeignKey(
        Vessel,
        on_delete=models.DO_NOTHING,
    )
    <span style="font-weight: bold; font-style: italic;">deal</span> = models.ForeignKey(
        Deal,
        on_delete=models.DO_NOTHING,
        null=<span style="font-weight: bold; text-decoration: underline;">True</span>
    )
    <span style="font-weight: bold; font-style: italic;">quant</span> = models.PositiveIntegerField(
        null=<span style="font-weight: bold; text-decoration: underline;">True</span>,
    )
    <span style="font-weight: bold; font-style: italic;">charfield</span> = models.CharField(max_length=255)
    <span style="font-weight: bold; font-style: italic;">is_new</span> = models.BooleanField(        
        default=<span style="font-weight: bold; text-decoration: underline;">True</span>,
        blank=<span style="font-weight: bold; text-decoration: underline;">True</span>
    )

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__str__</span>(<span style="font-weight: bold;">self</span>) -&gt; <span style="font-weight: bold;">str</span>:
        <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">str</span>(<span style="font-weight: bold;">self</span>.part)
</pre>
</div>

<p>
Db structure then:
</p>

<p>
App_collateral then becomes like a control center from which you can control
all the relationships, etc.
</p>

<p>
Deal admin page, we can not see the collaterals(vessels) here.
</p>

<p>
What we can see is another model in the admin called collaterals.
</p>

<p>
This is good if you actually want to separately create Deal and Vessel objects
and then connect them in one in Collateral model.
</p>

<p>
Query like such(using shell_plus with print sql):
</p>

<p>
<b><b>But what if you want to modify the collaterals from the Deal model?</b></b>
</p>

<p>
Answer - inline
</p>

<p>
p#+begin_src python
  from django.contrib import admin
  from .models import *
</p>

<p>
class CollateralInline(admin.TabularInline):
    model = Collateral
    extra = 1
</p>

<p>
class DealAdmin(admin.ModelAdmin):
    inlines = [CollateralInline]
</p>

<p>
  admin.site.register(Deal, DealAdmin)
  admin.site.register(Vessel)
  admin.site.register(Collateral)
#+end_src
</p>
</div>
</div>

<div id="outline-container-org4bb1eb6" class="outline-3">
<h3 id="org4bb1eb6"><span class="section-number-3">4.4.</span> Optimizing queries</h3>
<div class="outline-text-3" id="text-4-4">
<p>
This task is particularly important, because when I am using the app, the
loading times are incredibly long. And the more records I add to the database
(I add them daily) - the worse the situation will get.
</p>

<p>
Some possible solutions to try out:
</p>
</div>

<div id="outline-container-orga01bcc2" class="outline-4">
<h4 id="orga01bcc2"><span class="section-number-4">4.4.1.</span> Caching</h4>
<div class="outline-text-4" id="text-4-4-1">
<blockquote>
<p>
Consider using Django Middleware like django.middleware.cache.&gt;CacheMiddleware
to cache views and reduce database hits.
</p>
</blockquote>

<p>
It is surprisingly simple to implement, just add
<code>'django.middleware.cache.CacheMiddleware'</code> after
<code>'django.contrib.auth.middleware.AuthenticationMiddleware'</code>, in <code>settings.py</code> and
you will already notice the caching behavior.
</p>

<p>
First page load might take 300ms, but the second time you will load the same
page, it will take 0.00ms.
</p>

<p>
Kind of amazing, BUT I think it only works if the data HAS NOT CHANGED since
the last cache. If it has changed - you will have to refetch the whole data and
that again will take 300ms.
</p>

<p>
When I have constantly changing data tables, this will not work for me.
</p>

<p>
I am sure there are ways to optimize caching to suite my needs better, but this
time I just don't feel that this is the solution I should go with.
</p>
</div>
</div>

<div id="outline-container-org5d83452" class="outline-4">
<h4 id="org5d83452"><span class="section-number-4">4.4.2.</span> Others</h4>
<div class="outline-text-4" id="text-4-4-2">
<ul class="org-ul">
<li>Use Select Related or Prefetch Related: If your models have ForeignKey or
ManyToMany relationships, using select_related or prefetch_related can help
reduce the number of database queries when fetching related objects.</li>
<li>Limit Fields: When querying objects, only select the fields you actually
need. This can reduce the amount of data retrieved from the database.</li>
<li>Indexes: Ensure that your database tables have appropriate indexes on columns
that are frequently used for filtering or searching.</li>
<li>Caching: Implement caching for data that doesn't change frequently. This can
significantly reduce database queries for repetitive requests.</li>
<li>Database Optimization: Depending on your database system, there might be
database-specific optimizations you can apply.</li>
<li>Query Optimization: Review your database queries and optimize them for
efficiency. Tools like Django Debug Toolbar can help identify inefficient
queries.</li>

<li>Remember that the number of queries can also depend on the specific data and
relationships in your database, so it's essential to analyze and optimize
your database queries based on your application's requirements and usage
patterns.</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf5de32a" class="outline-2">
<h2 id="orgf5de32a"><span class="section-number-2">5.</span> Print that info</h2>
<div class="outline-text-2" id="text-5">
</div>
<div id="outline-container-orge7ca9ec" class="outline-3">
<h3 id="orge7ca9ec"><span class="section-number-3">5.1.</span> Print attributes through <code>__init__</code></h3>
<div class="outline-text-3" id="text-5-1">
<p>
In Django, when you define methods or attributes directly within a class body
(outside of any method), they are executed only once when the class is defined,
not every time an instance of the class is created or used.
</p>

<p>
In your case, the lol method is defined directly within the CollateralInline
class body. Therefore, it's executed only once when the CollateralInline class
is defined, typically when the server starts or when the admin module is
loaded.
</p>

<p>
If you want lol to be executed every time a page is loaded or refreshed in the
Django admin interface, you should call it from within a method that gets
executed during the page rendering process, such as get_formset, get_fields, or
__init__.
</p>


<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> django.contrib <span style="font-weight: bold;">import</span> admin
<span style="font-weight: bold;">from</span> .models <span style="font-weight: bold;">import</span> *

<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">CollateralInline</span>(admin.TabularInline):
    <span style="font-weight: bold; font-style: italic;">model</span> = Collateral
    <span style="font-weight: bold; font-style: italic;">extra</span> = 1
    <span style="font-weight: bold; font-style: italic;">readonly_fields</span> = (<span style="font-style: italic;">'status'</span>,)

    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">ON EACH PAGE REFRESH KAZKAIP KAZKODEL</span>
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, *args, **kwargs):
            <span style="font-weight: bold;">super</span>().__init__(*args, **kwargs)
            <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">self</span>.readonly_fields)
            <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"lol"</span>)
            <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Call the lol method when an instance of CollateralInline is created</span>

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">lol</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"lolziesssssssssssss"</span>)

<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">DealAdmin</span>(admin.ModelAdmin):
    <span style="font-weight: bold; font-style: italic;">inlines</span> = [CollateralInline]

    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">VIENA KARTA TIK KAI INITIATING</span>
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, *args, **kwargs):
        <span style="font-weight: bold;">super</span>().__init__(*args, **kwargs)
        CollateralInline.lol(<span style="font-weight: bold;">self</span>) <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Call the lol method when an instance of DealAdmin is created</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1e3d9a0" class="outline-3">
<h3 id="org1e3d9a0"><span class="section-number-3">5.2.</span> Print <code>attrs, values, ojb, request</code> through <code>get_fields</code></h3>
<div class="outline-text-3" id="text-5-2">
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> django.contrib <span style="font-weight: bold;">import</span> admin
<span style="font-weight: bold;">from</span> .models <span style="font-weight: bold;">import</span> *

<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">CollateralInline</span>(admin.TabularInline):
    <span style="font-weight: bold; font-style: italic;">model</span> = Collateral
    <span style="font-weight: bold; font-style: italic;">extra</span> = 1
    <span style="font-weight: bold; font-style: italic;">readonly_fields</span> = (<span style="font-style: italic;">'status'</span>,)

    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">ON EACH PAGE REFRESH </span>
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, *args, **kwargs):
            <span style="font-weight: bold;">super</span>().__init__(*args, **kwargs)
            <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">self</span>.extra)

    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">why I can only do it from already defined methods?</span>
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_fields</span>(<span style="font-weight: bold;">self</span>, request, obj=<span style="font-weight: bold; text-decoration: underline;">None</span>):
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">print(obj.register_date)</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'REQUEST INFO BELOW==================================='</span>)
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>(request))
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'REQUEST HEADERS BELOW==================================='</span>)
        <span style="font-weight: bold;">print</span>(request.headers)
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'SELF DICT BELOW==================================='</span>)
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__dict__</span>)
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'SELF STUFF BELOW==================================='</span>)
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">self</span>.verbose_name)
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">self</span>.opts)
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'OBJ BELOW==================================='</span>)
        <span style="font-weight: bold;">print</span>(obj)
        <span style="font-weight: bold;">print</span>(obj.<span style="font-weight: bold;">__dict__</span>)
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'FIELDS==================================='</span>)
        <span style="font-weight: bold; font-style: italic;">z</span> = <span style="font-weight: bold;">super</span>().get_fields(request, obj)
        z.sort()
        <span style="font-weight: bold;">print</span>(z)
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>(z))
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">type</span>(z))
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the values of each field</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'FIELD VALUES==================================='</span>)
        <span style="font-weight: bold;">for</span> field <span style="font-weight: bold;">in</span> z:
            <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Get the field value from the obj instance</span>
            <span style="font-weight: bold;">print</span>(f<span style="font-style: italic;">'</span>{field}<span style="font-style: italic;">'</span>)

        <span style="font-weight: bold;">for</span> obj <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.get_queryset(request):
            <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print a separator between rows</span>
            <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'--------------------------'</span>)
            <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the values of each field for the current row</span>
            <span style="font-weight: bold;">for</span> field <span style="font-weight: bold;">in</span> z:
                <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Get the field value from the obj instance</span>
                <span style="font-weight: bold; font-style: italic;">field_value</span> = <span style="font-weight: bold;">getattr</span>(obj, field)  <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Use field directly</span>
                <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the field name and its corresponding value</span>
                <span style="font-weight: bold;">print</span>(f<span style="font-style: italic;">'</span>{field}<span style="font-style: italic;">: </span>{field_value}<span style="font-style: italic;">'</span>)

        <span style="font-weight: bold;">return</span> z


<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">DealAdmin</span>(admin.ModelAdmin):
    <span style="font-weight: bold; font-style: italic;">inlines</span> = [CollateralInline]

    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;"># Once only, when initiating</span>
    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">def __init__(self, *args, **kwargs):</span>
    <span style="font-weight: bold; font-style: italic;">#     </span><span style="font-weight: bold; font-style: italic;">super().__init__(*args, **kwargs)</span>

admin.site.register(Deal, DealAdmin)
admin.site.register(Vessel)
admin.site.register(Collateral)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2aecc97" class="outline-3">
<h3 id="org2aecc97"><span class="section-number-3">5.3.</span> Check out <a href="https://django-debug-toolbar.readthedocs.io/en/latest/installation.html">debug-toolbar</a> package.</h3>
</div>
<div id="outline-container-org337cacf" class="outline-3">
<h3 id="org337cacf"><span class="section-number-3">5.4.</span> See the <code>query</code> that django is executing</h3>
<div class="outline-text-3" id="text-5-4">
<p>
Multiple ways to SEE the SQL that Django executes: 8 different ways -
<a href="https://b0uh.github.io/django-show-me-the-sql.html">https://b0uh.github.io/django-show-me-the-sql.html</a>
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold; font-style: italic;">lol</span> = <span style="font-weight: bold;">str</span>(Quote.objects.<span style="font-weight: bold;">filter</span>(text__icontains=<span style="font-style: italic;">"niuk"</span>).query)
<span style="font-weight: bold;">print</span>(lol)
</pre>
</div>

<p>
result of that above is:
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="font-weight: bold;">SELECT</span> "quotes_quote"."id", "quotes_quote"."text", "quotes_quote"."author_id", "quotes_quote"."active", "quotes_quote"."date_created" <span style="font-weight: bold;">FROM</span> "quotes_quote" <span style="font-weight: bold;">WHERE</span> "quotes_quote"."text" <span style="font-weight: bold;">LIKE</span> %niuk% <span style="font-weight: bold;">ESCAPE</span> <span style="font-style: italic;">'\'</span>
</pre>
</div>

<p>
Print the queries that django is executing
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> django.db <span style="font-weight: bold;">import</span> connection
<span style="font-weight: bold;">print</span>(connection.queries)
</pre>
</div>

<p>
See queries with django extensions and shell_plus. Do <code>pip install
django-extensions</code>. Add to installed apps!!!! - <code>'django_extensions',</code>. After
installation can do: <code>python manage.py shell_plus --print-sql</code>
</p>
</div>
</div>

<div id="outline-container-org629947e" class="outline-3">
<h3 id="org629947e"><span class="section-number-3">5.5.</span> Fetch <code>opt</code> values. Write this in the template</h3>
<div class="outline-text-3" id="text-5-5">
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="font-weight: bold;">script</span>&gt;
 console.log("Model name: {{ opts.model_name }}");
&lt;/<span style="font-weight: bold;">script</span>&gt;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python">{% <span style="font-weight: bold;">if</span> opts.model_name == <span style="font-style: italic;">'deal'</span> %}
&lt;script src=<span style="font-style: italic;">"{% static 'js/deal.js' %}"</span>&gt;&lt;/script&gt;
{% <span style="font-weight: bold;">elif</span> opts.model_name == <span style="font-style: italic;">'vessel'</span> %}
&lt;script src=<span style="font-style: italic;">"{% static 'js/vessel.js' %}"</span>&gt;&lt;/script&gt;
{% endif %}
</pre>
</div>
</div>
</div>

<div id="outline-container-org80b3554" class="outline-3">
<h3 id="org80b3554"><span class="section-number-3">5.6.</span> <code>opts</code> again</h3>
<div class="outline-text-3" id="text-5-6">
<div class="org-src-container">
<pre class="src src-html">{% extends "admin/change_form.html" %}
{% load i18n admin_urls static admin_modify %}

{% block admin_change_form_document_ready %}
&lt;<span style="font-weight: bold;">script</span> <span style="font-weight: bold; font-style: italic;">src</span>=<span style="font-style: italic;">"{% static 'js/vessel.js' %}"</span>&gt;&lt;/<span style="font-weight: bold;">script</span>&gt;

{% endblock %}

{% if opts.model_name == 'deal' %} 

&lt;<span style="font-weight: bold;">script</span> <span style="font-weight: bold; font-style: italic;">src</span>=<span style="font-style: italic;">"{% static 'js/deal.js' %}"</span>&gt;&lt;/<span style="font-weight: bold;">script</span>&gt; 

{% elif opts.model_name == 'vessel' %} 

&lt;<span style="font-weight: bold;">script</span> <span style="font-weight: bold; font-style: italic;">src</span>=<span style="font-style: italic;">"{% static 'js/vessel.js' %}"</span>&gt;&lt;/<span style="font-weight: bold;">script</span>&gt; 

{% endif %} 
</pre>
</div>

<p>
Fetch opt values. Write this in the template
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="font-weight: bold;">script</span>&gt;
console.log("Model name: {{ opts.model_name }}");
&lt;/<span style="font-weight: bold;">script</span>&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org2fef1fa" class="outline-3">
<h3 id="org2fef1fa"><span class="section-number-3">5.7.</span> Print the current object</h3>
<div class="outline-text-3" id="text-5-7">
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">QuoteUpdateView</span>(UpdateView):
    <span style="font-weight: bold; font-style: italic;">model</span> = Quote
    <span style="font-weight: bold; font-style: italic;">fields</span> = <span style="font-style: italic;">"__all__"</span>
    <span style="font-weight: bold; font-style: italic;">success_url</span> = reverse_lazy(<span style="font-style: italic;">'quote-list'</span>)

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_object</span>(<span style="font-weight: bold;">self</span>, queryset=<span style="font-weight: bold; text-decoration: underline;">None</span>):
        <span style="font-style: italic;">"""</span>
<span style="font-style: italic;">        Return the object the view is displaying.</span>
<span style="font-style: italic;">        """</span>
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Call the superclass method to get the object</span>
        <span style="font-weight: bold; font-style: italic;">obj</span> = <span style="font-weight: bold;">super</span>().get_object(queryset=queryset)
        <span style="font-weight: bold;">print</span>(obj)
        <span style="font-weight: bold;">return</span> obj

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">form_valid</span>(<span style="font-weight: bold;">self</span>, form):
        <span style="font-style: italic;">"""</span>
<span style="font-style: italic;">        Return the object the view is saving.</span>
<span style="font-style: italic;">        """</span>
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the instance that's going to be updated</span>
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">object</span>)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Call the superclass form_valid method to continue the update process</span>
        <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">super</span>().form_valid(form)
</pre>
</div>
</div>
</div>

<div id="outline-container-org211dcd8" class="outline-3">
<h3 id="org211dcd8"><span class="section-number-3">5.8.</span> Introspection!! Create an instance of a class and print out its attributes/methods</h3>
<div class="outline-text-3" id="text-5-8">
<p>
Was trying to find out the csss that is being used for autocomplete widget. 
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> dal <span style="font-weight: bold;">import</span> autocomplete

<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Assuming you have an instance of ModelSelect2</span>
<span style="font-weight: bold; font-style: italic;">widget_instance</span> = autocomplete.ModelSelect2()

<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print all attributes and methods of the widget instance</span>
<span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>(widget_instance))
</pre>
</div>

<p>
Printed it out, then saw bunch of attributes/methods:
</p>

<div class="org-src-container">
<pre class="src src-python">[<span style="font-style: italic;">'__class__'</span>, <span style="font-style: italic;">'__deepcopy__'</span>, <span style="font-style: italic;">'__delattr__'</span>, <span style="font-style: italic;">'__dict__'</span>, <span style="font-style: italic;">'__dir__'</span>, <span style="font-style: italic;">'__doc__'</span>, <span style="font-style: italic;">'__eq__'</span>, <span style="font-style: italic;">'__format__'</span>, <span style="font-style: italic;">'__ge__'</span>, <span style="font-style: italic;">'__getattribute__'</span>, <span style="font-style: italic;">'__gt__'</span>, <span style="font-style: italic;">'__hash__'</span>, <span style="font-style: italic;">'__init__'</span>, <span style="font-style: italic;">'__init_subclass__'</span>, <span style="font-style: italic;">'__le__'</span>, <span style="font-style: italic;">'__lt__'</span>, <span style="font-style: italic;">'__module__'</span>, <span style="font-style: italic;">'__ne__'</span>, <span style="font-style: italic;">'__new__'</span>, <span style="font-style: italic;">'__reduce__'</span>, <span style="font-style: italic;">'__reduce_ex__'</span>, <span style="font-style: italic;">'__repr__'</span>, <span style="font-style: italic;">'__setattr__'</span>, <span style="font-style: italic;">'__sizeof__'</span>, <span style="font-style: italic;">'__slotnames__'</span>, <span style="font-style: italic;">'__str__'</span>, <span style="font-style: italic;">'__subclasshook__'</span>, <span style="font-style: italic;">'__weakref__'</span>, <span style="font-style: italic;">'_choice_has_empty_value'</span>, <span style="font-style: italic;">'_get_language_code'</span>, <span style="font-style: italic;">'_get_url'</span>, <span style="font-style: italic;">'_make_forward_dict'</span>, <span style="font-style: italic;">'_render'</span>, <span style="font-style: italic;">'_set_url'</span>, <span style="font-style: italic;">'_url'</span>, <span style="font-style: italic;">'add_id_index'</span>, <span style="font-style: italic;">'allow_multiple_selected'</span>, <span style="font-style: italic;">'attrs'</span>, <span style="font-style: italic;">'autocomplete_function'</span>, <span style="font-style: italic;">'build_attrs'</span>, <span style="font-style: italic;">'checked_attribute'</span>, <span style="font-style: italic;">'choices'</span>, <span style="font-style: italic;">'create_option'</span>, <span style="font-style: italic;">'filter_choices_to_render'</span>, <span style="font-style: italic;">'format_value'</span>, <span style="font-style: italic;">'forward'</span>, <span style="font-style: italic;">'get_context'</span>, <span style="font-style: italic;">'id_for_label'</span>, <span style="font-style: italic;">'input_type'</span>, <span style="font-style: italic;">'is_hidden'</span>, <span style="font-style: italic;">'is_localized'</span>, <span style="font-style: italic;">'is_required'</span>, <span style="font-style: italic;">'media'</span>, <span style="font-style: italic;">'needs_multipart_form'</span>, <span style="font-style: italic;">'optgroups'</span>, <span style="font-style: italic;">'option_inherits_attrs'</span>, <span style="font-style: italic;">'option_template_name'</span>, <span style="font-style: italic;">'options'</span>, <span style="font-style: italic;">'placeholder'</span>, <span style="font-style: italic;">'render'</span>, <span style="font-style: italic;">'render_forward_conf'</span>, <span style="font-style: italic;">'render_options'</span>, <span style="font-style: italic;">'subwidgets'</span>, <span style="font-style: italic;">'supports_microseconds'</span>, <span style="font-style: italic;">'template_name'</span>, <span style="font-style: italic;">'url'</span>, <span style="font-style: italic;">'use_fieldset'</span>, <span style="font-style: italic;">'use_required_attribute'</span>, <span style="font-style: italic;">'value_from_datadict'</span>, <span style="font-style: italic;">'value_omitted_from_data'</span>]
</pre>
</div>

<p>
Saw "media" inside of it. So I printed out the media
<code>print(widget_instance.media)</code>, got all the media files. Now I know exactly
where the stylesheets are, can override them.
</p>

<div class="org-src-container">
<pre class="src src-bash">&lt;link <span style="font-weight: bold; font-style: italic;">href</span>=<span style="font-style: italic;">"/static/static/admin/css/vendor/select2/select2.css"</span> <span style="font-weight: bold; font-style: italic;">media</span>=<span style="font-style: italic;">"screen"</span> <span style="font-weight: bold; font-style: italic;">rel</span>=<span style="font-style: italic;">"stylesheet"</span>&gt;
&lt;link <span style="font-weight: bold; font-style: italic;">href</span>=<span style="font-style: italic;">"/static/static/admin/css/autocomplete.css"</span> <span style="font-weight: bold; font-style: italic;">media</span>=<span style="font-style: italic;">"screen"</span> <span style="font-weight: bold; font-style: italic;">rel</span>=<span style="font-style: italic;">"stylesheet"</span>&gt;
&lt;link <span style="font-weight: bold; font-style: italic;">href</span>=<span style="font-style: italic;">"/static/static/autocomplete_light/select2.css"</span> <span style="font-weight: bold; font-style: italic;">media</span>=<span style="font-style: italic;">"screen"</span> <span style="font-weight: bold; font-style: italic;">rel</span>=<span style="font-style: italic;">"stylesheet"</span>&gt;
&lt;script <span style="font-weight: bold; font-style: italic;">src</span>=<span style="font-style: italic;">"/static/static/admin/js/vendor/select2/select2.full.js"</span>&gt;&lt;/script&gt;
&lt;script <span style="font-weight: bold; font-style: italic;">src</span>=<span style="font-style: italic;">"/static/static/autocomplete_light/autocomplete_light.js"</span>&gt;&lt;/script&gt;
&lt;script <span style="font-weight: bold; font-style: italic;">src</span>=<span style="font-style: italic;">"/static/static/autocomplete_light/select2.js"</span>&gt;&lt;/script&gt;
&lt;script <span style="font-weight: bold; font-style: italic;">src</span>=<span style="font-style: italic;">"/static/static/autocomplete_light/i18n/en.js"</span>&gt;&lt;/script&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org4167e13" class="outline-3">
<h3 id="org4167e13"><span class="section-number-3">5.9.</span> Built in <code>dir</code> and <code>locals</code> methods</h3>
<div class="outline-text-3" id="text-5-9">
<p>
See current local scope
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">dir</span>()
Locals()
<span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>(VesselInline))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf7145f5" class="outline-3">
<h3 id="orgf7145f5"><span class="section-number-3">5.10.</span> Print <code>request</code> info on each page with <code>context_processor</code></h3>
<div class="outline-text-3" id="text-5-10">
<p>
Can probably do it in the shell or views.py, but another way, to do it for
<b><b>each page</b></b> is to use <code>context_processor</code>
</p>


<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">def</span> <span style="font-weight: bold;">request_info</span>(request):
    <span style="font-weight: bold; font-style: italic;">request_info</span> = <span style="font-weight: bold;">dir</span>(request)
    <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"request:"</span>, request_info)

    <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"User:"</span>, <span style="font-weight: bold;">getattr</span>(request, <span style="font-style: italic;">'user'</span>, <span style="font-weight: bold; text-decoration: underline;">None</span>))
    <span style="font-weight: bold;">return</span> {<span style="font-style: italic;">"request_info"</span>: request_info}
</pre>
</div>

<p>
In <code>settings.py</code> add context_processor:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="font-style: italic;">'context_processors.request_info'</span>,
</pre>
</div>

<p>
Then in template:
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="font-weight: bold;">p</span>&gt;Request info - {{request_info}}&lt;/<span style="font-weight: bold;">p</span>&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org35481ee" class="outline-3">
<h3 id="org35481ee"><span class="section-number-3">5.11.</span> Print out ALL the CONTEXT variables</h3>
<div class="outline-text-3" id="text-5-11">
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">OneListView</span>(generic.ListView):
    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">model = One is shorthand for saying queryset = One.objects.all()</span>
    <span style="font-weight: bold; font-style: italic;">model</span> = One

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_context_data</span>(<span style="font-weight: bold;">self</span>, **kwargs):
        <span style="font-weight: bold; font-style: italic;">context</span> = <span style="font-weight: bold;">super</span>().get_context_data(**kwargs)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Add the model name to the context</span>
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>(<span style="font-weight: bold;">self</span>.model._meta))
        <span style="font-weight: bold; font-style: italic;">context</span>[<span style="font-style: italic;">'model_name'</span>] = <span style="font-weight: bold;">self</span>.model._meta.verbose_name_plural
        <span style="font-weight: bold;">return</span> context
</pre>
</div>

<p>
Result:
</p>

<div class="org-src-container">
<pre class="src src-bash">[<span style="font-style: italic;">'FORWARD_PROPERTIES'</span>, <span style="font-style: italic;">'REVERSE_PROPERTIES'</span>, <span style="font-style: italic;">'__class__'</span>, <span style="font-style: italic;">'__delattr__'</span>, <span style="font-style: italic;">'__dict__'</span>, <span style="font-style: italic;">'__dir__'</span>, <span style="font-style: italic;">'__doc__'</span>, <span style="font-style: italic;">'__eq__'</span>, <span style="font-style: italic;">'__format__'</span>, <span style="font-style: italic;">'__ge__'</span>, <span style="font-style: italic;">'__getattribute__'</span>, <span style="font-style: italic;">'__gt__'</span>, <span style="font-style: italic;">'__hash__'</span>, <span style="font-style: italic;">'__init__'</span>, <span style="font-style: italic;">'__init_subclass__'</span>, <span style="font-style: italic;">'__le__'</span>, <span style="font-style: italic;">'__lt__'</span>, <span style="font-style: italic;">'__module__'</span>, <span style="font-style: italic;">'__ne__'</span>, <span style="font-style: italic;">'__new__'</span>, <span style="font-style: italic;">'__reduce__'</span>, <span style="font-style: italic;">'__reduce_ex__'</span>, <span style="font-style: italic;">'__repr__'</span>, <span style="font-style: italic;">'__setattr__'</span>, <span style="font-style: italic;">'__sizeof__'</span>, <span style="font-style: italic;">'__str__'</span>, <span style="font-style: italic;">'__subclasshook__'</span>, <span style="font-style: italic;">'__weakref__'</span>, <span style="font-style: italic;">'_expire_cache'</span>, <span style="font-style: italic;">'_format_names_with_class'</span>, <span style="font-style: italic;">'_forward_fields_map'</span>, <span style="font-style: italic;">'_get_default_pk_class'</span>, <span style="font-style: italic;">'_get_fields'</span>, <span style="font-style: italic;">'_get_fields_cache'</span>, <span style="font-style: italic;">'_non_pk_concrete_field_names'</span>, <span style="font-style: italic;">'_ordering_clash'</span>, <span style="font-style: italic;">'_populate_directed_relation_graph'</span>, <span style="font-style: italic;">'_prepare'</span>, <span style="font-style: italic;">'_property_names'</span>, <span style="font-style: italic;">'_relation_tree'</span>, <span style="font-style: italic;">'abstract'</span>, <span style="font-style: italic;">'add_field'</span>, <span style="font-style: italic;">'add_manager'</span>, <span style="font-style: italic;">'app_config'</span>, <span style="font-style: italic;">'app_label'</span>, <span style="font-style: italic;">'apps'</span>, <span style="font-style: italic;">'auto_created'</span>, <span style="font-style: italic;">'auto_field'</span>, <span style="font-style: italic;">'base_manager'</span>, <span style="font-style: italic;">'base_manager_name'</span>, <span style="font-style: italic;">'can_migrate'</span>, <span style="font-style: italic;">'concrete_fields'</span>, <span style="font-style: italic;">'concrete_model'</span>, <span style="font-style: italic;">'constraints'</span>, <span style="font-style: italic;">'contribute_to_class'</span>, <span style="font-style: italic;">'db_returning_fields'</span>, <span style="font-style: italic;">'db_table'</span>, <span style="font-style: italic;">'db_table_comment'</span>, <span style="font-style: italic;">'db_tablespace'</span>, <span style="font-style: italic;">'default_apps'</span>, <span style="font-style: italic;">'default_manager'</span>, <span style="font-style: italic;">'default_manager_name'</span>, <span style="font-style: italic;">'default_permissions'</span>, <span style="font-style: italic;">'default_related_name'</span>, <span style="font-style: italic;">'fields'</span>, <span style="font-style: italic;">'fields_map'</span>, <span style="font-style: italic;">'get_ancestor_link'</span>, <span style="font-style: italic;">'get_base_chain'</span>, <span style="font-style: italic;">'get_field'</span>, <span style="font-style: italic;">'get_fields'</span>, <span style="font-style: italic;">'get_latest_by'</span>, <span style="font-style: italic;">'get_parent_list'</span>, <span style="font-style: italic;">'get_path_from_parent'</span>, <span style="font-style: italic;">'get_path_to_parent'</span>, <span style="font-style: italic;">'index_together'</span>, <span style="font-style: italic;">'indexes'</span>, <span style="font-style: italic;">'label'</span>, <span style="font-style: italic;">'label_lower'</span>, <span style="font-style: italic;">'local_concrete_fields'</span>, <span style="font-style: italic;">'local_fields'</span>, <span style="font-style: italic;">'local_managers'</span>, <span style="font-style: italic;">'local_many_to_many'</span>, <span style="font-style: italic;">'managed'</span>, <span style="font-style: italic;">'managers'</span>, <span style="font-style: italic;">'managers_map'</span>, <span style="font-style: italic;">'many_to_many'</span>, <span style="font-style: italic;">'model'</span>, <span style="font-style: italic;">'model_name'</span>, <span style="font-style: italic;">'object_name'</span>, <span style="font-style: italic;">'order_with_respect_to'</span>, <span style="font-style: italic;">'ordering'</span>, <span style="font-style: italic;">'original_attrs'</span>, <span style="font-style: italic;">'parents'</span>, <span style="font-style: italic;">'permissions'</span>, <span style="font-style: italic;">'pk'</span>, <span style="font-style: italic;">'private_fields'</span>, <span style="font-style: italic;">'proxy'</span>, <span style="font-style: italic;">'proxy_for_model'</span>, <span style="font-style: italic;">'related_fkey_lookups'</span>, <span style="font-style: italic;">'related_objects'</span>, <span style="font-style: italic;">'required_db_features'</span>, <span style="font-style: italic;">'required_db_vendor'</span>, <span style="font-style: italic;">'select_on_save'</span>, <span style="font-style: italic;">'setup_pk'</span>, <span style="font-style: italic;">'setup_proxy'</span>, <span style="font-style: italic;">'swappable'</span>, <span style="font-style: italic;">'swapped'</span>, <span style="font-style: italic;">'total_unique_constraints'</span>, <span style="font-style: italic;">'unique_together'</span>, <span style="font-style: italic;">'verbose_name'</span>, <span style="font-style: italic;">'verbose_name_plural'</span>, <span style="font-style: italic;">'verbose_name_raw'</span>]
</pre>
</div>
</div>
</div>

<div id="outline-container-org2de4580" class="outline-3">
<h3 id="org2de4580"><span class="section-number-3">5.12.</span> Print out ALL info about the object</h3>
<div class="outline-text-3" id="text-5-12">
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">OneListView</span>(ListView):
    <span style="font-weight: bold; font-style: italic;">model</span> = One
    <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>())
    <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">locals</span>())

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, *args, **kwargs):
        <span style="font-weight: bold;">super</span>().__init__(*args, **kwargs)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the docstring</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Docstring:"</span>, <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__doc__</span>)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the base classes</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Base classes:"</span>, <span style="font-weight: bold;">self</span>.__class__.__bases__)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the class dictionary</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Class dictionary:"</span>, <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__dict__</span>)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the class methods</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Class methods:"</span>)
        <span style="font-weight: bold;">for</span> key, value <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.__class__.<span style="font-weight: bold;">__dict__</span>.items():
            <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">callable</span>(value):
                <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"</span><span style="font-weight: bold; text-decoration: underline;">\t</span><span style="font-style: italic;">"</span>, key, <span style="font-style: italic;">":"</span>, value)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the instance dictionary</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Instance dictionary:"</span>, <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__dict__</span>)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the instance methods</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Instance methods:"</span>)
        <span style="font-weight: bold;">for</span> key, value <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__dict__</span>.items():
            <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">callable</span>(value):
                <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"</span><span style="font-weight: bold; text-decoration: underline;">\t</span><span style="font-style: italic;">"</span>, key, <span style="font-style: italic;">":"</span>, value)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd52e1d6" class="outline-3">
<h3 id="orgd52e1d6"><span class="section-number-3">5.13.</span> Add a custom variable to object list</h3>
<div class="outline-text-3" id="text-5-13">
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> django.shortcuts <span style="font-weight: bold;">import</span> render
<span style="font-weight: bold;">from</span> django.views <span style="font-weight: bold;">import</span> generic

<span style="font-weight: bold;">from</span> three.models <span style="font-weight: bold;">import</span> Three

<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">ThreeListView</span>(generic.ListView):
    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">model = One is shorthand for saying queryset = One.objects.all()</span>
    <span style="font-weight: bold; font-style: italic;">model</span> = Three
    <span style="font-weight: bold; font-style: italic;">template_name</span> = <span style="font-style: italic;">'list_view.html'</span>
    <span style="font-weight: bold; font-style: italic;">context_object_name</span> = <span style="font-style: italic;">'object_list'</span>

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_context_data</span>(<span style="font-weight: bold;">self</span>, **kwargs):
        <span style="font-weight: bold; font-style: italic;">context</span> = <span style="font-weight: bold;">super</span>().get_context_data(**kwargs)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">print(f"CONTEXT IS HERE {context}")</span>
        <span style="font-weight: bold; font-style: italic;">context</span>[<span style="font-style: italic;">'model_name'</span>] = <span style="font-weight: bold;">self</span>.model.<span style="font-weight: bold;">__name__</span>.lower()  <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Lowercase model name</span>
        <span style="font-weight: bold; font-style: italic;">context</span>[<span style="font-style: italic;">'model_name_plural'</span>] = <span style="font-weight: bold;">self</span>.model._meta.verbose_name_plural  <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Plural form of model name</span>
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">print(f"UPDATED IS HERE {context}")</span>
        <span style="font-weight: bold;">return</span> context
</pre>
</div>

<p>
Can then use it in the templates like so:
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="font-weight: bold;">h1</span>&gt;<span style="font-weight: bold; text-decoration: underline;">List of {{ model_name_plural }}</span>&lt;/<span style="font-weight: bold;">h1</span>&gt;

<span style="font-weight: bold; font-style: italic;">&lt;!-- </span><span style="font-weight: bold; font-style: italic;">{% if "three" in model_name_plural %}</span>
<span style="font-weight: bold; font-style: italic;">    &lt;p&gt;Hello&lt;/p&gt;</span>
<span style="font-weight: bold; font-style: italic;">{% else %}</span>
<span style="font-weight: bold; font-style: italic;">    &lt;p&gt;NOTTTTTTTT&lt;/p&gt;</span>
<span style="font-weight: bold; font-style: italic;">{% endif %}</span><span style="font-weight: bold; font-style: italic;"> --&gt;</span>

&lt;<span style="font-weight: bold;">ul</span> <span style="font-weight: bold; font-style: italic;">id</span>=<span style="font-style: italic;">"{{model_name_plural}} object_list"</span>&gt;
    {% for instance in object_list %}
        &lt;<span style="font-weight: bold;">p</span>&gt;Hello&lt;/<span style="font-weight: bold;">p</span>&gt;

        <span style="font-weight: bold; font-style: italic;">&lt;!-- </span><span style="font-weight: bold; font-style: italic;">&lt;li&gt;&lt;a href="{% url model_name|add:'_detail' pk=instance.pk %}"&gt;{{ instance }}&lt;/a&gt;&lt;/li&gt;</span><span style="font-weight: bold; font-style: italic;"> --&gt;</span>
    {% endfor %}
&lt;/<span style="font-weight: bold;">ul</span>&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgd23b01a" class="outline-3">
<h3 id="orgd23b01a"><span class="section-number-3">5.14.</span> _meta !!!!!!!!!!!</h3>
<div class="outline-text-3" id="text-5-14">
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">TwoListView</span>(ListView):
    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">model = One is shorthand for saying queryset = One.objects.all()</span>
    <span style="font-weight: bold; font-style: italic;">model</span> = Two

    <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>(model._meta))
    <span style="font-weight: bold; font-style: italic;">paginate_by</span> = 15
</pre>
</div>
</div>
</div>

<div id="outline-container-org1d7c0ce" class="outline-3">
<h3 id="org1d7c0ce"><span class="section-number-3">5.15.</span> Create a debugging decorator! Printerino</h3>
<div class="outline-text-3" id="text-5-15">
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">def</span> <span style="font-weight: bold;">printerino</span>(cls):
    <span style="font-style: italic;">'''</span>
<span style="font-style: italic;">    The printerino function takes a class as input (cls) and prints out various </span>
<span style="font-style: italic;">    information about it when called.</span>

<span style="font-style: italic;">    The __init__ method within the printerino function is modified to print out </span>
<span style="font-style: italic;">    additional information about the class and its instances.</span>

<span style="font-style: italic;">    The @printerino decorator is used to apply the printerino functionality to </span>
<span style="font-style: italic;">    the OneListView class. This effectively modifies the __init__ method of </span>
<span style="font-style: italic;">    OneListView to include the printing functionality.</span>

<span style="font-style: italic;">    idomu del ko su GreetingView neveikia pilnai, bet su OneListView veikia.</span>
<span style="font-style: italic;">    '''</span>

    <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>(cls))
    <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">locals</span>())

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, *args, **kwargs):
        <span style="font-weight: bold;">super</span>(cls, <span style="font-weight: bold;">self</span>).__init__(*args, **kwargs)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the docstring</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Docstring:"</span>, <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__doc__</span>)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the base classes</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Base classes:"</span>, <span style="font-weight: bold;">self</span>.__class__.__bases__)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the class dictionary</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Class dictionary:"</span>, <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__dict__</span>)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the class methods</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Class methods:"</span>)
        <span style="font-weight: bold;">for</span> key, value <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.__class__.<span style="font-weight: bold;">__dict__</span>.items():
            <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">callable</span>(value):
                <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"</span><span style="font-weight: bold; text-decoration: underline;">\t</span><span style="font-style: italic;">"</span>, key, <span style="font-style: italic;">":"</span>, value)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the instance dictionary</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Instance dictionary:"</span>, <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__dict__</span>)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the instance methods</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Instance methods:"</span>)
        <span style="font-weight: bold;">for</span> key, value <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__dict__</span>.items():
            <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">callable</span>(value):
                <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"</span><span style="font-weight: bold; text-decoration: underline;">\t</span><span style="font-style: italic;">"</span>, key, <span style="font-style: italic;">":"</span>, value)

    cls.<span style="font-weight: bold; font-style: italic;">__init__</span> = __init__
    <span style="font-weight: bold;">return</span> cls
</pre>
</div>

<p>
Then to use it in the python code, add this above the classes:  <code>@printerino</code>
</p>
</div>
</div>
</div>

<div id="outline-container-org848979a" class="outline-2">
<h2 id="org848979a"><span class="section-number-2">6.</span> Repetitive tasks</h2>
<div class="outline-text-2" id="text-6">
<p>
To base.html add:
</p>

<p>
At the very top:
</p>

<p>
```django
{% load static %}
```
</p>

<p>
In head add:
</p>

<p>
```html
&lt;link rel="stylesheet" type="text/css" href="{% static 'css/styles.css' %}"&gt;
```
</p>

<p>
Create a folder and a file
</p>

<p>
Root dir, create static folder, inside of it, css folder, inside of it, styles.css file
</p>

<p>
Content for example:
</p>

<p>
```css
body {
    background-color: red;
}
```
</p>

<p>
Hard reload the page `ctrl+r`, should work
</p>

<p>
<a href="https://stackoverflow.com/questions/14720464/django-project-base-template">https://stackoverflow.com/questions/14720464/django-project-base-template</a>
</p>

<p>
Create base.html file
</p>

<p>
```html
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Project&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
{% block content %}
</p>

<p>
{% endblock %}
&lt;/body&gt;
&lt;/html&gt;
```
</p>

<p>
extend it:
</p>

<p>
```django
{% extends "base.html" %}
</p>

<p>
{% block content %}
    &lt;h2&gt;Content for My App&lt;/h2&gt;
    &lt;p&gt;Stuff etc etc.&lt;/p&gt;
{% endblock content %}
```
</p>
</div>
</div>

<div id="outline-container-org434bb70" class="outline-2">
<h2 id="org434bb70"><span class="section-number-2">7.</span> Debugging tools</h2>
<div class="outline-text-2" id="text-7">
<p>
Can debug with Vscode easy - <a href="https://code.visualstudio.com/docs/editor/debugging">https://code.visualstudio.com/docs/editor/debugging</a>
</p>

<p>
Can debug admin code also. Just have to be a method to debug, can not simply debug nothingness?
</p>

<p>
Can use the `launch.json` config below:
</p>

<p>
```json
  {
      "version": "0.2.0",
      "configurations": [
          {
              "name": "Shipping",
              "python": "C:\\Users\&sect;2753G\\Envs\\shipping\\Scripts\\python.exe",
              "type": "python",
              "request": "launch",
              "program": "C:\\Users\&sect;2753G\\OneDrive - SEB\\GIT\\shipping\\code\\backend\\app\\manage.py",
              "console": "internalConsole",
              "args": [
                  "runserver"
              ],
              "django": true,
              "justMyCode": true
          }
      ]
  }
```
</p>

<p>
Add this line to your code:
</p>

<p>
#+begin_src python
import pdb; pdb.set_trace()
```
</p>

<p>
Then execute the code, or in django case, run the page, can be an admin page.
</p>

<p>
Then see the commands available here - <a href="https://djangostars.com/blog/debugging-python-applications-with-pdb/">https://djangostars.com/blog/debugging-python-applications-with-pdb/</a>
</p>

<p>
Not much information on this topic
</p>

<p>
Found this - <a href="https://github.com/emacs-lsp/dap-mode/issues/229">https://github.com/emacs-lsp/dap-mode/issues/229</a>, asked Seanfarly
in person, replied to me under github ticket
</p>

<p>
Wrote a question in reddit, no response -
<a href="https://www.reddit.com/r/emacs/comments/1agxcb9/debugging_a_django_app_with_dapmode/">https://www.reddit.com/r/emacs/comments/1agxcb9/debugging_a_django_app_with_dapmode/</a>
</p>
</div>


<div id="outline-container-org4baa644" class="outline-3">
<h3 id="org4baa644"><span class="section-number-3">7.1.</span> Asked in "dape" mode issue log</h3>
<div class="outline-text-3" id="text-7-1">
<p>
<a href="https://github.com/svaante/dape/issues/62">https://github.com/svaante/dape/issues/62</a> after noticing Torstein mention it here - <a href="https://www.reddit.com/r/emacs/comments/1133gvq/eglot_and_debugging_python/?share_id=snq4RQaJqMQ66DwTl1L_F&amp;utm_content=1&amp;utm_medium=android_app&amp;utm_name=androidcss&amp;utm_source=share&amp;utm_term=1">https://www.reddit.com/r/emacs/comments/1133gvq/eglot_and_debugging_python/?share_id=snq4RQaJqMQ66DwTl1L_F&amp;utm_content=1&amp;utm_medium=android_app&amp;utm_name=androidcss&amp;utm_source=share&amp;utm_term=1</a> and in his video here - <a href="https://www.youtube.com/watch?si=yYFpkMQlMUFpcn_n&amp;v=YKkyfz4cU8g&amp;feature=youtu.be">https://www.youtube.com/watch?si=yYFpkMQlMUFpcn_n&amp;v=YKkyfz4cU8g&amp;feature=youtu.be</a>
</p>
</div>
</div>

<div id="outline-container-org3d1a9ce" class="outline-3">
<h3 id="org3d1a9ce"><span class="section-number-3">7.2.</span> Torstein reply</h3>
<div class="outline-text-3" id="text-7-2">
<p>
&gt;I've never used Django, so I don't know the specifics. The crux is being able
to launch Django from Emacs. Then you can debug anything. AFAICT from
<a href="https://docs.djangoproject.com/en/5.0/howto/deployment/">https://docs.djangoproject.com/en/5.0/howto/deployment/</a>, Django can both run
inside an Apache module and with WISGI and other native Python ways. If you can
launch your Django app with python3 &lt;something&gt;, then you can debug it with
dape.
</p>

<p>
How do you find dape mode so far?
</p>

<p>
Pretty happy with it so far, it's fairly fast and has some good defaults. I'm
not doing Python development full time, sadly, I'm constantly juggling products
and technology stacks. Thus, there can be weeks and even months between each
time I get to do heavy Python development, in which I need a debugger.
</p>
</div>
</div>

<div id="outline-container-org173b068" class="outline-3">
<h3 id="org173b068"><span class="section-number-3">7.3.</span> Plumber and different tools</h3>
<div class="outline-text-3" id="text-7-3">
<p>
&gt;ever seen a plumber use the same wrench for all the pipes? Different tools for deferent jobs. Multiple IDE's, code editors for different jobs.
</p>

<p>
## Pycharm - Karina
</p>

<p>
swears by it
</p>

<p>
Pasak jos pycharm visa tai rodo.
</p>

<p>
&gt;Labas, gal turi kokių gudrybių kaip django pasiekti request, context, args, kwargs, template tags, etc? Viska, kas vaikšto tarp serverio ir client padarius requestus, paspaudus mygtukus admin consoleje ir pan. Nežinau net kaip įvardinti, nes nežinau ko tiksliai ieškau. Django debug toolbare kažkaip nematau visos visos info. Aš jaučiu, matant tai ir suprantant tai - būtų kaifas. Skraidyciau.
</p>

<p>
Kazkur dar skaiau, kad pycharm turi built in Django debugging support. lolz..
</p>


<p>
maybe give pycharm a try? Ask Karina for help to see how to debug, how to see
all the variables I need to see. querysets, args, kwargs, request stuff, parameters, etc
</p>
</div>
</div>
</div>
<div id="outline-container-org272a218" class="outline-2">
<h2 id="org272a218"><span class="section-number-2">8.</span> Useful packages</h2>
<div class="outline-text-2" id="text-8">
<p>
Debug toolbar ir dar tas kitas kur leidzia runserver plus
</p>
</div>
<div id="outline-container-orgc7b5d46" class="outline-3">
<h3 id="orgc7b5d46"><span class="section-number-3">8.1.</span> Debug toolbar</h3>
<div class="outline-text-3" id="text-8-1">
<p>
how to install and configure ir pan
</p>
</div>
</div>

<div id="outline-container-org1aeaa91" class="outline-3">
<h3 id="org1aeaa91"><span class="section-number-3">8.2.</span> django extensions</h3>
<div class="outline-text-3" id="text-8-2">
<p>
Can use a fancy shell(ipython, print sql, jupyter, etc)
</p>

<p>
<a href="https://django-extensions.readthedocs.io/en/latest/index.html">https://django-extensions.readthedocs.io/en/latest/index.html</a>
</p>

<p>
A few of the subpages below use it, kind of nice
</p>

<p>
To use them properly, do this:
</p>

<p>
`pip install django-extensions`
Add `"django_extensions",` to `settings.py` installed apps section.
</p>

<p>
## Shell_plus
</p>

<p>
`pip install ipython` - will use ipython by default when running shell - <a href="https://django-extensions.readthedocs.io/en/latest/shell_plus.html">https://django-extensions.readthedocs.io/en/latest/shell_plus.html</a>#
</p>

<p>
<a href="https://django-extensions.readthedocs.io/en/latest/shell_plus.html#sql-queries">https://django-extensions.readthedocs.io/en/latest/shell_plus.html#sql-queries</a> - `python manage.py shell_plus &#x2013;print-sql`
</p>

<p>
`pip install jupyter` So now can run `python manage.py shell_plus &#x2013;lab`
</p>

<p>
If you want to run &#x2013;notebook, downgrade to lower version:
</p>

<p>
`pip install notebook==6.5.6`
</p>

<p>
<a href="https://gist.github.com/EtsuNDmA/dd8949061783bf593706559374c8f635">https://gist.github.com/EtsuNDmA/dd8949061783bf593706559374c8f635</a>
</p>

<p>
If getting such errors - <a href="https://github.com/django-extensions/django-extensions/issues/1533">https://github.com/django-extensions/django-extensions/issues/1533</a> async bs, 
Same issue described here - <a href="https://stackoverflow.com/questions/59119396/how-to-use-django-3-0-orm-in-a-jupyter-notebook-without-triggering-the-async-con">https://stackoverflow.com/questions/59119396/how-to-use-django-3-0-orm-in-a-jupyter-notebook-without-triggering-the-async-con</a>
</p>

<p>
then try to add one more thing to settings.py:
</p>

<p>
`os.environ["DJANGO_ALLOW_ASYNC_UNSAFE"] = "true"`
</p>


<p>
total configas kuri reikia prideti:
</p>


<p>
```python
NOTEBOOK_DIR = BASE_DIR / "notebooks" # save notebooks in a dedicated folder
os.environ["DJANGO_ALLOW_ASYNC_UNSAFE"] = "true" # allow to run ORM queries
```
</p>
</div>
</div>
</div>

<div id="outline-container-org9d970fe" class="outline-2">
<h2 id="org9d970fe"><span class="section-number-2">9.</span> CBV's</h2>
<div class="outline-text-2" id="text-9">
</div>
<div id="outline-container-orge602a2a" class="outline-3">
<h3 id="orge602a2a"><span class="section-number-3">9.1.</span> CBV's vs Function views?</h3>
<div class="outline-text-3" id="text-9-1">
<p>
<a href="https://www.youtube.com/watch?v=IBWiQMHcSQk&amp;list=PLOLrQ9Pn6caxNb9eFZJ6LfY29nZkKmmXT&amp;index=11&amp;ab_channel=VeryAcademy">https://www.youtube.com/watch?v=IBWiQMHcSQk&amp;list=PLOLrQ9Pn6caxNb9eFZJ6LfY29nZkKmmXT&amp;index=11&amp;ab_channel=VeryAcademy</a>
</p>

<ul class="org-ul">
<li>Nice cbv tutorial series, goes deeper than usual -
<a href="https://www.youtube.com/watch?v=ZzEEJscH4E0">https://www.youtube.com/watch?v=ZzEEJscH4E0</a></li>

<li>Convert from function views to CBV -
<a href="https://www.youtube.com/watch?v=-3BN-JMLE0A&amp;ab_channel=DennisIvy">https://www.youtube.com/watch?v=-3BN-JMLE0A&amp;ab_channel=DennisIvy</a></li>

<li>Best explanation function views vs CVB(and their types)
<a href="https://medium.com/@ksarthak4ever/django-class-based-views-vs-function-based-view-e74b47b2e41b">https://medium.com/@ksarthak4ever/django-class-based-views-vs-function-based-view-e74b47b2e41b</a></li>

<li>Florin reccomented video - <a href="https://www.youtube.com/watch?v=8JpNAsq0iPk&amp;t=1s&amp;ab_channel=CodeWithStein">https://www.youtube.com/watch?v=8JpNAsq0iPk&amp;t=1s&amp;ab_channel=CodeWithStein</a></li>
</ul>

<blockquote>
<p>
It is a matter of taste. BUT using classes might give you less code. A pattern
to follow can be:
</p>

<ul class="org-ul">
<li>if you can use one of the generic classes, then use it</li>
<li>if you can use the normal view class without too much hassle, then do it.</li>
<li>and the last resort is function based views</li>
</ul>

<p>
But when that is said, I almost always use functions because I love them. And
that is also a good practice to follow
</p>
</blockquote>

<p>
BASICALLY DOING CVB's only to get experience in OOP. OOP will be useful when
working with django admin and overall, OOP knowledge is a must, I have grown to
that. Even though I like function views more, let's work with CLASS BASED
VIEWS.
</p>

<p>
introduction - <a href="https://docs.djangoproject.com/en/5.0/topics/class-based-views/intro/">https://docs.djangoproject.com/en/5.0/topics/class-based-views/intro/</a>
</p>

<blockquote>
<p>
if you are performing a more complex operation, handling multiple forms at
once, a function-based view will serve you better.
</p>
</blockquote>

<blockquote>
<p>
If you find you’re struggling to implement your view as a subclass of a generic
view, then you may find it more effective to write just the code you need,
using your own class-based or functional views.
</p>
</blockquote>
</div>
</div>


<div id="outline-container-org3ae1a7b" class="outline-3">
<h3 id="org3ae1a7b"><span class="section-number-3">9.2.</span> Mixins</h3>
<div class="outline-text-3" id="text-9-2">
<p>
<a href="https://www.youtube.com/watch?v=bjuS1ryMOmw">https://www.youtube.com/watch?v=bjuS1ryMOmw</a>
</p>

<p>
Cia daro mixins also - <a href="https://www.youtube.com/watch?v=Xin4hjyMe6E&amp;list=RDCMUCh_LSaTv2GeZ3woJNTGihew&amp;index=9&amp;ab_channel=RedEyedCoderClub">https://www.youtube.com/watch?v=Xin4hjyMe6E&amp;list=RDCMUCh_LSaTv2GeZ3woJNTGihew&amp;index=9&amp;ab_channel=RedEyedCoderClub</a>
</p>

<p>
Lots of mixins, but I think the repo is no longer maintained - <a href="https://github.com/brack3t/django-braces">https://github.com/brack3t/django-braces</a>
</p>

<p>
Geras example - <a href="https://www.youtube.com/watch?v=0513I6_f2Tc&amp;list=PLDF6pmMQf-BiBsNRWAyux-rboKZAsFhth&amp;index=8&amp;ab_channel=AdamWester">https://www.youtube.com/watch?v=0513I6_f2Tc&amp;list=PLDF6pmMQf-BiBsNRWAyux-rboKZAsFhth&amp;index=8&amp;ab_channel=AdamWester</a>
</p>
</div>
</div>

<div id="outline-container-org6575c18" class="outline-3">
<h3 id="org6575c18"><span class="section-number-3">9.3.</span> args vs kwargs</h3>
<div class="outline-text-3" id="text-9-3">
<p>
<a href="https://www.youtube.com/watch?v=5EfrKhdebKI&amp;list=PLOLrQ9Pn6caxNb9eFZJ6LfY29nZkKmmXT&amp;index=11&amp;ab_channel=VeryAcademy">https://www.youtube.com/watch?v=5EfrKhdebKI&amp;list=PLOLrQ9Pn6caxNb9eFZJ6LfY29nZkKmmXT&amp;index=11&amp;ab_channel=VeryAcademy</a>
</p>

<p>
One asterisk (*) - unpacks a list
</p>
</div>

<div id="outline-container-orgf39fece" class="outline-4">
<h4 id="orgf39fece"><span class="section-number-4">9.3.1.</span> Args</h4>
<div class="outline-text-4" id="text-9-3-1">
<p>
Args is a tuple - ( brackets and commas
</p>

<p>
one asterisk – UNPACKS a TUPLE
</p>

<p>
Add_numbers(1,2,3,4,5,6,7,8), cia parasiau, nes nesimato
</p>

<p>
Kaip matom kas isprintinta, dabar a yra isprintinamas atskirai, o args yra isprintinami viename touple. 
</p>
</div>
</div>

<div id="outline-container-orgda59619" class="outline-4">
<h4 id="orgda59619"><span class="section-number-4">9.3.2.</span> Kwargs</h4>
<div class="outline-text-4" id="text-9-3-2">
<p>
two asterisks – UNPACKS a DICTIONARY
</p>

<p>
Kwargs – returns a dictionary
</p>

<p>
Takes in dictionary also:
</p>

<p>
Can print out the chosen dictionary value now when using kwargs:
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-orge260c04" class="outline-2">
<h2 id="orge260c04"><span class="section-number-2">10.</span> <span class="todo TODO">TODO</span> Django best practices??????????????????????????/</h2>
<div class="outline-text-2" id="text-10">
<p>
Here I will write the tips that I found and that I use when building a Django
project.
</p>
</div>

<div id="outline-container-org938691e" class="outline-3">
<h3 id="org938691e"><span class="section-number-3">10.1.</span> Instead of /admin change to smth else URL Django</h3>
<div class="outline-text-3" id="text-10-1">
<p>
For security. Everyone knows that if its a django project, it will have an
admin page
</p>
</div>
</div>

<div id="outline-container-orgd17fda8" class="outline-3">
<h3 id="orgd17fda8"><span class="section-number-3">10.2.</span> Use environment variables</h3>
<div class="outline-text-3" id="text-10-2">
<ul class="org-ul">
<li>for secret key</li>
<li>for database name/location</li>
<li>api keys</li>
<li>other things if needed</li>
</ul>
</div>
</div>

<div id="outline-container-orgea21a19" class="outline-3">
<h3 id="orgea21a19"><span class="section-number-3">10.3.</span> Use postgres db</h3>
<div class="outline-text-3" id="text-10-3">
<p>
Kind of default ageed db to use with Django
</p>
</div>
</div>

<div id="outline-container-org35916c6" class="outline-3">
<h3 id="org35916c6"><span class="section-number-3">10.4.</span> Use two different settings files</h3>
<div class="outline-text-3" id="text-10-4">
<p>
One for prod another for acc(test) environment
</p>

<p>
Like described in here TODO split django settings into multiple files(TODO - add
from notes)
</p>
</div>
</div>

<div id="outline-container-org8803a47" class="outline-3">
<h3 id="org8803a47"><span class="section-number-3">10.5.</span> Expanding user model to store more user information</h3>
<div class="outline-text-3" id="text-10-5">
<p>
As described in my other post <a href="20231128T132201--expanding-user-model__django_sql.html">here</a>.
</p>
</div>
</div>

<div id="outline-container-org976d93e" class="outline-3">
<h3 id="org976d93e"><span class="section-number-3">10.6.</span> Update django every major version once every 9 months</h3>
<div class="outline-text-3" id="text-10-6">
<p>
Python -wd runserver depreciation warnings
</p>
</div>
</div>

<div id="outline-container-org73a9869" class="outline-3">
<h3 id="org73a9869"><span class="section-number-3">10.7.</span> Renaming Django project</h3>
<div class="outline-text-3" id="text-10-7">
<p>
From Lifeapi to Lifeapi_project according to these instructions:
</p>

<p>
Used ctrl+shift+f to find all occurances or lifeapi and change to
lifeapi_project.
</p>

<p>
In Django, renaming a project involves a few steps, but it can be done
relatively easily. Here's a high-level overview of the process:
</p>

<p>
Rename the project directory: Rename the root directory of your Django
project to the new desired name.
</p>

<p>
Update the manage.py file: Open the manage.py file in the root
directory and update the DJANGO_SETTINGS_MODULE variable to point to
the new project name.
</p>

<p>
Update the WSGI file (if applicable): If you're using a WSGI server
like Apache or Nginx, update the WSGI file to reflect the new project
name.
</p>

<p>
Update the project's configuration files:
</p>

<p>
Rename the main project package folder: Inside the renamed project
directory, rename the main package folder (the one containing
settings.py, urls.py, etc.) to the new project name.
</p>

<p>
Update the ROOT_URLCONF setting: In the settings.py file, update the
ROOT_URLCONF variable to point to the new project name.
</p>

<p>
Update references in code and configuration files:
</p>

<p>
Search for any references to the old project name in your codebase and
update them to use the new project name.
</p>

<p>
Update any file paths or URLs that reference the old project name.
</p>

<p>
Test and validate: After making the above changes, test your project
to ensure it runs correctly. Run migrations, start the development
server, and navigate through your application to verify that
everything functions as expected.
</p>

<p>
It's important to note that renaming a project can have implications
for version control systems, deployment configurations, and other
related tools. Make sure to update any relevant configurations or
scripts that reference the old project name.
</p>

<p>
While Django does not provide an automated way to rename a project,
following the steps outlined above should allow you to rename your
project successfully.
</p>
</div>
</div>

<div id="outline-container-orgf7a3768" class="outline-3">
<h3 id="orgf7a3768"><span class="section-number-3">10.8.</span> move apps to apps folder</h3>
<div class="outline-text-3" id="text-10-8">
<p>
After creating an app, move it into apps folder, then change the
following things:
</p>

<p>
Possibly delete migrations
</p>

<p>
new app - <code>apps.py</code> file, write a proper name - name = <code>lifeapi_apps.base_app</code>
</p>

<p>
-urls.py- of the <b><b>project</b></b>, write:
</p>

<div class="org-src-container">
<pre class="src src-python">path(<span style="font-style: italic;">""</span>, include(<span style="font-style: italic;">"lifeapi_apps.base_app.urls"</span>)),
</pre>
</div>

<p>
In <code>settings.py</code>, next to installed apps - <code>'lifeapi_apps.base_app'</code>
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<hr/>
	 <footer>
	 <div class="copyright-container">
	 <div class="copyright">
	 Copyright &copy; 2023-2024 Arvydas Gasparavicius
	 </div>
	 </div>
	 <p class="date">This org file is <u>exported</u> to HTML: 2024-05-29 Wed 16:06</p>
	 <p class="date">This org file is last <u>modified</u>: 2024-05-29 Wed 16:02</p>
	 <p class="date">This org file is <u>created</u>: 2024-01-25 Thu 16:29</p>
	 <div class="generated">
	Created with <a href="https://www.gnu.org/software/emacs/">Emacs</a> 29.3 (<a href="https://orgmode.org">Org</a> mode 9.6.15) on <a href="https://www.gnu.org">GNU</a>/<a href="https://www.kernel.org/">Linux</a>
	</div>
	</footer>
	 <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
	 <script src="./static/js/generic.js"></script>
	 <script src="./static/js/scroll-to-top.js"></script>
	 <script src="./static/js/lightbox.js"></script>
	 <script src="./static/js/test.js"></script>
	 <script src="./static/js/search.js"></script>
</div>
</body>
</html>
