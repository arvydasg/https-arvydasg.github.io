<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2024-05-29 Wed 17:03 -->
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Django heaven</title>
<meta name="author" content="Arvydas Gasparavicius" />
<meta name="description" content="Welcome to my devnotes site" />
<meta name="keywords" content="emacs django" />
<meta name="generator" content="Org Mode" />

<link rel="stylesheet" href="./static/css/org-html-style-default.css" type="text/css"/>
<link rel="stylesheet" href="./static/css/generic.css" type="text/css"/>
<link rel="stylesheet" href="./static/css/taingram.css" type="text/css"/>
<link rel="stylesheet" href="./static/css/lightbox.css" type="text/css"/>
<link rel="stylesheet" href="./static/css/scroll-to-top.css" type="text/css"/>
<link rel="icon" href="./static/ag.ico">
</head>
<body>
<div id="org-div-home-and-up">
 <a accesskey="h" href="sitemap.html">NOTES </a>
 
 <a accesskey="H" href="index.html"> HOME </a>
</div><div id="preamble" class="status">
<div id="updated">Updated: 2024-05-29 Wed 17:02</div>
</div>
<div id="content" class="content">
<header>
<h1 class="title">Django heaven</h1>
</header><nav id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#orgb37d800">1. Print that info</a>
<ul>
<li><a href="#orgb5fcce3">1.1. Print attributes through <code>__init__</code></a></li>
<li><a href="#org27ddef6">1.2. Print <code>attrs, values, ojb, request</code> through <code>get_fields</code></a></li>
<li><a href="#org4effc40">1.3. Check out debug-toolbar package.</a></li>
<li><a href="#org84f1182">1.4. See the <code>query</code> that django is executing</a></li>
<li><a href="#orgd73d846">1.5. Fetch <code>opt</code> values. Write this in the template</a></li>
<li><a href="#org17c9cc9">1.6. <code>opts</code> again</a></li>
<li><a href="#org263174b">1.7. Print the current object</a></li>
<li><a href="#org5c67fb0">1.8. Introspection!! Create an instance of a class and print out its attributes/methods</a></li>
<li><a href="#org49a93b2">1.9. Built in <code>dir</code> and <code>locals</code> methods</a></li>
<li><a href="#org7b1cede">1.10. Print <code>request</code> info on each page with <code>context_processor</code></a></li>
<li><a href="#orga8ca421">1.11. Print out ALL the CONTEXT variables</a></li>
<li><a href="#org7df8ed7">1.12. Print out ALL info about the object</a></li>
<li><a href="#orgc87477b">1.13. Add a custom variable to object list</a></li>
<li><a href="#orgb6be6de">1.14. _meta !!!!!!!!!!!</a></li>
<li><a href="#org8eaff68">1.15. Create a debugging decorator! Printerino</a></li>
</ul>
</li>
<li><a href="#orgd1dac29">2. Repetitive tasks</a>
<ul>
<li><a href="#org5ee3c7c">2.1. Add css</a></li>
<li><a href="#org843f911">2.2. Create and implement <code>base.html</code></a></li>
</ul>
</li>
<li><a href="#org103c2dc">3. Debugging tools</a>
<ul>
<li><a href="#orga979a8f">3.1. Debugging with VScode</a></li>
<li><a href="#org3794389">3.2. Debugging with pdb</a></li>
<li><a href="#orgc586e3c">3.3. Emacs and dap mode?</a>
<ul>
<li><a href="#org44ff7ba">3.3.1. Asked in "dape" mode issue log</a></li>
</ul>
</li>
<li><a href="#org8fd526f">3.4. Torstein reply</a></li>
<li><a href="#orgadc6dc1">3.5. Plumber and different tools</a></li>
<li><a href="#org5de0c06">3.6. Pycharm - Karina</a></li>
</ul>
</li>
<li><a href="#org223c14f">4. Useful packages</a>
<ul>
<li><a href="#org18993c8">4.1. Debug toolbar</a></li>
<li><a href="#orge1749de">4.2. django extensions</a></li>
</ul>
</li>
<li><a href="#org8114190">5. <span class="todo TODO">TODO</span> Django best practices??????????????????????????/</a>
<ul>
<li><a href="#org25d2d35">5.1. Instead of /admin change to smth else URL Django</a></li>
<li><a href="#org8d89f0e">5.2. Use environment variables</a></li>
<li><a href="#org4b0b50f">5.3. Use postgres db</a></li>
<li><a href="#org34a6e68">5.4. Use two different settings files</a></li>
<li><a href="#orgbbd77e9">5.5. Expanding user model to store more user information</a></li>
<li><a href="#orgfe82f93">5.6. Update django every major version once every 9 months</a></li>
<li><a href="#org1b03a60">5.7. Renaming Django project</a></li>
<li><a href="#org6baf25c">5.8. move apps to apps folder</a></li>
</ul>
</li>
</ul>
</div>
</nav>
<ul class="org-ul">
<li><a href="https://djangosnippets.org/">Django snippets</a></li>
</ul>

<div id="outline-container-orgb37d800" class="outline-2">
<h2 id="orgb37d800"><span class="section-number-2">1.</span> Print that info</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-orgb5fcce3" class="outline-3">
<h3 id="orgb5fcce3"><span class="section-number-3">1.1.</span> Print attributes through <code>__init__</code></h3>
<div class="outline-text-3" id="text-1-1">
<p>
In Django, when you define methods or attributes directly within a class body
(outside of any method), they are executed only once when the class is defined,
not every time an instance of the class is created or used.
</p>

<p>
In your case, the lol method is defined directly within the CollateralInline
class body. Therefore, it's executed only once when the CollateralInline class
is defined, typically when the server starts or when the admin module is
loaded.
</p>

<p>
If you want lol to be executed every time a page is loaded or refreshed in the
Django admin interface, you should call it from within a method that gets
executed during the page rendering process, such as get_formset, get_fields, or
__init__.
</p>


<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> django.contrib <span style="font-weight: bold;">import</span> admin
<span style="font-weight: bold;">from</span> .models <span style="font-weight: bold;">import</span> *

<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">CollateralInline</span>(admin.TabularInline):
    <span style="font-weight: bold; font-style: italic;">model</span> = Collateral
    <span style="font-weight: bold; font-style: italic;">extra</span> = 1
    <span style="font-weight: bold; font-style: italic;">readonly_fields</span> = (<span style="font-style: italic;">'status'</span>,)

    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">ON EACH PAGE REFRESH KAZKAIP KAZKODEL</span>
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, *args, **kwargs):
            <span style="font-weight: bold;">super</span>().__init__(*args, **kwargs)
            <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">self</span>.readonly_fields)
            <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"lol"</span>)
            <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Call the lol method when an instance of CollateralInline is created</span>

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">lol</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"lolziesssssssssssss"</span>)

<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">DealAdmin</span>(admin.ModelAdmin):
    <span style="font-weight: bold; font-style: italic;">inlines</span> = [CollateralInline]

    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">VIENA KARTA TIK KAI INITIATING</span>
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, *args, **kwargs):
        <span style="font-weight: bold;">super</span>().__init__(*args, **kwargs)
        CollateralInline.lol(<span style="font-weight: bold;">self</span>) <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Call the lol method when an instance of DealAdmin is created</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org27ddef6" class="outline-3">
<h3 id="org27ddef6"><span class="section-number-3">1.2.</span> Print <code>attrs, values, ojb, request</code> through <code>get_fields</code></h3>
<div class="outline-text-3" id="text-1-2">
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> django.contrib <span style="font-weight: bold;">import</span> admin
<span style="font-weight: bold;">from</span> .models <span style="font-weight: bold;">import</span> *

<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">CollateralInline</span>(admin.TabularInline):
    <span style="font-weight: bold; font-style: italic;">model</span> = Collateral
    <span style="font-weight: bold; font-style: italic;">extra</span> = 1
    <span style="font-weight: bold; font-style: italic;">readonly_fields</span> = (<span style="font-style: italic;">'status'</span>,)

    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">ON EACH PAGE REFRESH </span>
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, *args, **kwargs):
            <span style="font-weight: bold;">super</span>().__init__(*args, **kwargs)
            <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">self</span>.extra)

    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">why I can only do it from already defined methods?</span>
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_fields</span>(<span style="font-weight: bold;">self</span>, request, obj=<span style="font-weight: bold; text-decoration: underline;">None</span>):
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">print(obj.register_date)</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'REQUEST INFO BELOW==================================='</span>)
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>(request))
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'REQUEST HEADERS BELOW==================================='</span>)
        <span style="font-weight: bold;">print</span>(request.headers)
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'SELF DICT BELOW==================================='</span>)
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__dict__</span>)
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'SELF STUFF BELOW==================================='</span>)
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">self</span>.verbose_name)
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">self</span>.opts)
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'OBJ BELOW==================================='</span>)
        <span style="font-weight: bold;">print</span>(obj)
        <span style="font-weight: bold;">print</span>(obj.<span style="font-weight: bold;">__dict__</span>)
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'FIELDS==================================='</span>)
        <span style="font-weight: bold; font-style: italic;">z</span> = <span style="font-weight: bold;">super</span>().get_fields(request, obj)
        z.sort()
        <span style="font-weight: bold;">print</span>(z)
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>(z))
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">type</span>(z))
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the values of each field</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'FIELD VALUES==================================='</span>)
        <span style="font-weight: bold;">for</span> field <span style="font-weight: bold;">in</span> z:
            <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Get the field value from the obj instance</span>
            <span style="font-weight: bold;">print</span>(f<span style="font-style: italic;">'</span>{field}<span style="font-style: italic;">'</span>)

        <span style="font-weight: bold;">for</span> obj <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.get_queryset(request):
            <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print a separator between rows</span>
            <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">'--------------------------'</span>)
            <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the values of each field for the current row</span>
            <span style="font-weight: bold;">for</span> field <span style="font-weight: bold;">in</span> z:
                <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Get the field value from the obj instance</span>
                <span style="font-weight: bold; font-style: italic;">field_value</span> = <span style="font-weight: bold;">getattr</span>(obj, field)  <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Use field directly</span>
                <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the field name and its corresponding value</span>
                <span style="font-weight: bold;">print</span>(f<span style="font-style: italic;">'</span>{field}<span style="font-style: italic;">: </span>{field_value}<span style="font-style: italic;">'</span>)

        <span style="font-weight: bold;">return</span> z


<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">DealAdmin</span>(admin.ModelAdmin):
    <span style="font-weight: bold; font-style: italic;">inlines</span> = [CollateralInline]

    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;"># Once only, when initiating</span>
    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">def __init__(self, *args, **kwargs):</span>
    <span style="font-weight: bold; font-style: italic;">#     </span><span style="font-weight: bold; font-style: italic;">super().__init__(*args, **kwargs)</span>

admin.site.register(Deal, DealAdmin)
admin.site.register(Vessel)
admin.site.register(Collateral)
</pre>
</div>
</div>
</div>

<div id="outline-container-org4effc40" class="outline-3">
<h3 id="org4effc40"><span class="section-number-3">1.3.</span> Check out <a href="https://django-debug-toolbar.readthedocs.io/en/latest/installation.html">debug-toolbar</a> package.</h3>
</div>
<div id="outline-container-org84f1182" class="outline-3">
<h3 id="org84f1182"><span class="section-number-3">1.4.</span> See the <code>query</code> that django is executing</h3>
<div class="outline-text-3" id="text-1-4">
<p>
Multiple ways to SEE the SQL that Django executes: 8 different ways -
<a href="https://b0uh.github.io/django-show-me-the-sql.html">https://b0uh.github.io/django-show-me-the-sql.html</a>
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold; font-style: italic;">lol</span> = <span style="font-weight: bold;">str</span>(Quote.objects.<span style="font-weight: bold;">filter</span>(text__icontains=<span style="font-style: italic;">"niuk"</span>).query)
<span style="font-weight: bold;">print</span>(lol)
</pre>
</div>

<p>
result of that above is:
</p>
<div class="org-src-container">
<pre class="src src-sql"><span style="font-weight: bold;">SELECT</span> "quotes_quote"."id", "quotes_quote"."text", "quotes_quote"."author_id", "quotes_quote"."active", "quotes_quote"."date_created" <span style="font-weight: bold;">FROM</span> "quotes_quote" <span style="font-weight: bold;">WHERE</span> "quotes_quote"."text" <span style="font-weight: bold;">LIKE</span> %niuk% <span style="font-weight: bold;">ESCAPE</span> <span style="font-style: italic;">'\'</span>
</pre>
</div>

<p>
Print the queries that django is executing
</p>
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> django.db <span style="font-weight: bold;">import</span> connection
<span style="font-weight: bold;">print</span>(connection.queries)
</pre>
</div>

<p>
See queries with django extensions and shell_plus. Do <code>pip install
django-extensions</code>. Add to installed apps!!!! - <code>'django_extensions',</code>. After
installation can do: <code>python manage.py shell_plus --print-sql</code>
</p>
</div>
</div>

<div id="outline-container-orgd73d846" class="outline-3">
<h3 id="orgd73d846"><span class="section-number-3">1.5.</span> Fetch <code>opt</code> values. Write this in the template</h3>
<div class="outline-text-3" id="text-1-5">
<div class="org-src-container">
<pre class="src src-html">&lt;<span style="font-weight: bold;">script</span>&gt;
 console.log("Model name: {{ opts.model_name }}");
&lt;/<span style="font-weight: bold;">script</span>&gt;
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python">{% <span style="font-weight: bold;">if</span> opts.model_name == <span style="font-style: italic;">'deal'</span> %}
&lt;script src=<span style="font-style: italic;">"{% static 'js/deal.js' %}"</span>&gt;&lt;/script&gt;
{% <span style="font-weight: bold;">elif</span> opts.model_name == <span style="font-style: italic;">'vessel'</span> %}
&lt;script src=<span style="font-style: italic;">"{% static 'js/vessel.js' %}"</span>&gt;&lt;/script&gt;
{% endif %}
</pre>
</div>
</div>
</div>

<div id="outline-container-org17c9cc9" class="outline-3">
<h3 id="org17c9cc9"><span class="section-number-3">1.6.</span> <code>opts</code> again</h3>
<div class="outline-text-3" id="text-1-6">
<div class="org-src-container">
<pre class="src src-html">{% extends "admin/change_form.html" %}
{% load i18n admin_urls static admin_modify %}

{% block admin_change_form_document_ready %}
&lt;<span style="font-weight: bold;">script</span> <span style="font-weight: bold; font-style: italic;">src</span>=<span style="font-style: italic;">"{% static 'js/vessel.js' %}"</span>&gt;&lt;/<span style="font-weight: bold;">script</span>&gt;

{% endblock %}

{% if opts.model_name == 'deal' %} 

&lt;<span style="font-weight: bold;">script</span> <span style="font-weight: bold; font-style: italic;">src</span>=<span style="font-style: italic;">"{% static 'js/deal.js' %}"</span>&gt;&lt;/<span style="font-weight: bold;">script</span>&gt; 

{% elif opts.model_name == 'vessel' %} 

&lt;<span style="font-weight: bold;">script</span> <span style="font-weight: bold; font-style: italic;">src</span>=<span style="font-style: italic;">"{% static 'js/vessel.js' %}"</span>&gt;&lt;/<span style="font-weight: bold;">script</span>&gt; 

{% endif %} 
</pre>
</div>

<p>
Fetch opt values. Write this in the template
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="font-weight: bold;">script</span>&gt;
console.log("Model name: {{ opts.model_name }}");
&lt;/<span style="font-weight: bold;">script</span>&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org263174b" class="outline-3">
<h3 id="org263174b"><span class="section-number-3">1.7.</span> Print the current object</h3>
<div class="outline-text-3" id="text-1-7">
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">QuoteUpdateView</span>(UpdateView):
    <span style="font-weight: bold; font-style: italic;">model</span> = Quote
    <span style="font-weight: bold; font-style: italic;">fields</span> = <span style="font-style: italic;">"__all__"</span>
    <span style="font-weight: bold; font-style: italic;">success_url</span> = reverse_lazy(<span style="font-style: italic;">'quote-list'</span>)

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_object</span>(<span style="font-weight: bold;">self</span>, queryset=<span style="font-weight: bold; text-decoration: underline;">None</span>):
        <span style="font-style: italic;">"""</span>
<span style="font-style: italic;">        Return the object the view is displaying.</span>
<span style="font-style: italic;">        """</span>
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Call the superclass method to get the object</span>
        <span style="font-weight: bold; font-style: italic;">obj</span> = <span style="font-weight: bold;">super</span>().get_object(queryset=queryset)
        <span style="font-weight: bold;">print</span>(obj)
        <span style="font-weight: bold;">return</span> obj

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">form_valid</span>(<span style="font-weight: bold;">self</span>, form):
        <span style="font-style: italic;">"""</span>
<span style="font-style: italic;">        Return the object the view is saving.</span>
<span style="font-style: italic;">        """</span>
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the instance that's going to be updated</span>
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">object</span>)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Call the superclass form_valid method to continue the update process</span>
        <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">super</span>().form_valid(form)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5c67fb0" class="outline-3">
<h3 id="org5c67fb0"><span class="section-number-3">1.8.</span> Introspection!! Create an instance of a class and print out its attributes/methods</h3>
<div class="outline-text-3" id="text-1-8">
<p>
Was trying to find out the csss that is being used for autocomplete widget. 
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> dal <span style="font-weight: bold;">import</span> autocomplete

<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Assuming you have an instance of ModelSelect2</span>
<span style="font-weight: bold; font-style: italic;">widget_instance</span> = autocomplete.ModelSelect2()

<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print all attributes and methods of the widget instance</span>
<span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>(widget_instance))
</pre>
</div>

<p>
Printed it out, then saw bunch of attributes/methods:
</p>

<div class="org-src-container">
<pre class="src src-python">[<span style="font-style: italic;">'__class__'</span>, <span style="font-style: italic;">'__deepcopy__'</span>, <span style="font-style: italic;">'__delattr__'</span>, <span style="font-style: italic;">'__dict__'</span>, <span style="font-style: italic;">'__dir__'</span>, <span style="font-style: italic;">'__doc__'</span>, <span style="font-style: italic;">'__eq__'</span>, <span style="font-style: italic;">'__format__'</span>, <span style="font-style: italic;">'__ge__'</span>, <span style="font-style: italic;">'__getattribute__'</span>, <span style="font-style: italic;">'__gt__'</span>, <span style="font-style: italic;">'__hash__'</span>, <span style="font-style: italic;">'__init__'</span>, <span style="font-style: italic;">'__init_subclass__'</span>, <span style="font-style: italic;">'__le__'</span>, <span style="font-style: italic;">'__lt__'</span>, <span style="font-style: italic;">'__module__'</span>, <span style="font-style: italic;">'__ne__'</span>, <span style="font-style: italic;">'__new__'</span>, <span style="font-style: italic;">'__reduce__'</span>, <span style="font-style: italic;">'__reduce_ex__'</span>, <span style="font-style: italic;">'__repr__'</span>, <span style="font-style: italic;">'__setattr__'</span>, <span style="font-style: italic;">'__sizeof__'</span>, <span style="font-style: italic;">'__slotnames__'</span>, <span style="font-style: italic;">'__str__'</span>, <span style="font-style: italic;">'__subclasshook__'</span>, <span style="font-style: italic;">'__weakref__'</span>, <span style="font-style: italic;">'_choice_has_empty_value'</span>, <span style="font-style: italic;">'_get_language_code'</span>, <span style="font-style: italic;">'_get_url'</span>, <span style="font-style: italic;">'_make_forward_dict'</span>, <span style="font-style: italic;">'_render'</span>, <span style="font-style: italic;">'_set_url'</span>, <span style="font-style: italic;">'_url'</span>, <span style="font-style: italic;">'add_id_index'</span>, <span style="font-style: italic;">'allow_multiple_selected'</span>, <span style="font-style: italic;">'attrs'</span>, <span style="font-style: italic;">'autocomplete_function'</span>, <span style="font-style: italic;">'build_attrs'</span>, <span style="font-style: italic;">'checked_attribute'</span>, <span style="font-style: italic;">'choices'</span>, <span style="font-style: italic;">'create_option'</span>, <span style="font-style: italic;">'filter_choices_to_render'</span>, <span style="font-style: italic;">'format_value'</span>, <span style="font-style: italic;">'forward'</span>, <span style="font-style: italic;">'get_context'</span>, <span style="font-style: italic;">'id_for_label'</span>, <span style="font-style: italic;">'input_type'</span>, <span style="font-style: italic;">'is_hidden'</span>, <span style="font-style: italic;">'is_localized'</span>, <span style="font-style: italic;">'is_required'</span>, <span style="font-style: italic;">'media'</span>, <span style="font-style: italic;">'needs_multipart_form'</span>, <span style="font-style: italic;">'optgroups'</span>, <span style="font-style: italic;">'option_inherits_attrs'</span>, <span style="font-style: italic;">'option_template_name'</span>, <span style="font-style: italic;">'options'</span>, <span style="font-style: italic;">'placeholder'</span>, <span style="font-style: italic;">'render'</span>, <span style="font-style: italic;">'render_forward_conf'</span>, <span style="font-style: italic;">'render_options'</span>, <span style="font-style: italic;">'subwidgets'</span>, <span style="font-style: italic;">'supports_microseconds'</span>, <span style="font-style: italic;">'template_name'</span>, <span style="font-style: italic;">'url'</span>, <span style="font-style: italic;">'use_fieldset'</span>, <span style="font-style: italic;">'use_required_attribute'</span>, <span style="font-style: italic;">'value_from_datadict'</span>, <span style="font-style: italic;">'value_omitted_from_data'</span>]
</pre>
</div>

<p>
Saw "media" inside of it. So I printed out the media
<code>print(widget_instance.media)</code>, got all the media files. Now I know exactly
where the stylesheets are, can override them.
</p>

<div class="org-src-container">
<pre class="src src-bash">&lt;link <span style="font-weight: bold; font-style: italic;">href</span>=<span style="font-style: italic;">"/static/static/admin/css/vendor/select2/select2.css"</span> <span style="font-weight: bold; font-style: italic;">media</span>=<span style="font-style: italic;">"screen"</span> <span style="font-weight: bold; font-style: italic;">rel</span>=<span style="font-style: italic;">"stylesheet"</span>&gt;
&lt;link <span style="font-weight: bold; font-style: italic;">href</span>=<span style="font-style: italic;">"/static/static/admin/css/autocomplete.css"</span> <span style="font-weight: bold; font-style: italic;">media</span>=<span style="font-style: italic;">"screen"</span> <span style="font-weight: bold; font-style: italic;">rel</span>=<span style="font-style: italic;">"stylesheet"</span>&gt;
&lt;link <span style="font-weight: bold; font-style: italic;">href</span>=<span style="font-style: italic;">"/static/static/autocomplete_light/select2.css"</span> <span style="font-weight: bold; font-style: italic;">media</span>=<span style="font-style: italic;">"screen"</span> <span style="font-weight: bold; font-style: italic;">rel</span>=<span style="font-style: italic;">"stylesheet"</span>&gt;
&lt;script <span style="font-weight: bold; font-style: italic;">src</span>=<span style="font-style: italic;">"/static/static/admin/js/vendor/select2/select2.full.js"</span>&gt;&lt;/script&gt;
&lt;script <span style="font-weight: bold; font-style: italic;">src</span>=<span style="font-style: italic;">"/static/static/autocomplete_light/autocomplete_light.js"</span>&gt;&lt;/script&gt;
&lt;script <span style="font-weight: bold; font-style: italic;">src</span>=<span style="font-style: italic;">"/static/static/autocomplete_light/select2.js"</span>&gt;&lt;/script&gt;
&lt;script <span style="font-weight: bold; font-style: italic;">src</span>=<span style="font-style: italic;">"/static/static/autocomplete_light/i18n/en.js"</span>&gt;&lt;/script&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-org49a93b2" class="outline-3">
<h3 id="org49a93b2"><span class="section-number-3">1.9.</span> Built in <code>dir</code> and <code>locals</code> methods</h3>
<div class="outline-text-3" id="text-1-9">
<p>
See current local scope
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">dir</span>()
Locals()
<span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>(VesselInline))
</pre>
</div>
</div>
</div>

<div id="outline-container-org7b1cede" class="outline-3">
<h3 id="org7b1cede"><span class="section-number-3">1.10.</span> Print <code>request</code> info on each page with <code>context_processor</code></h3>
<div class="outline-text-3" id="text-1-10">
<p>
Can probably do it in the shell or views.py, but another way, to do it for
<b><b>each page</b></b> is to use <code>context_processor</code>
</p>


<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">def</span> <span style="font-weight: bold;">request_info</span>(request):
    <span style="font-weight: bold; font-style: italic;">request_info</span> = <span style="font-weight: bold;">dir</span>(request)
    <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"request:"</span>, request_info)

    <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"User:"</span>, <span style="font-weight: bold;">getattr</span>(request, <span style="font-style: italic;">'user'</span>, <span style="font-weight: bold; text-decoration: underline;">None</span>))
    <span style="font-weight: bold;">return</span> {<span style="font-style: italic;">"request_info"</span>: request_info}
</pre>
</div>

<p>
In <code>settings.py</code> add context_processor:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="font-style: italic;">'context_processors.request_info'</span>,
</pre>
</div>

<p>
Then in template:
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="font-weight: bold;">p</span>&gt;Request info - {{request_info}}&lt;/<span style="font-weight: bold;">p</span>&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-orga8ca421" class="outline-3">
<h3 id="orga8ca421"><span class="section-number-3">1.11.</span> Print out ALL the CONTEXT variables</h3>
<div class="outline-text-3" id="text-1-11">
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">OneListView</span>(generic.ListView):
    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">model = One is shorthand for saying queryset = One.objects.all()</span>
    <span style="font-weight: bold; font-style: italic;">model</span> = One

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_context_data</span>(<span style="font-weight: bold;">self</span>, **kwargs):
        <span style="font-weight: bold; font-style: italic;">context</span> = <span style="font-weight: bold;">super</span>().get_context_data(**kwargs)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Add the model name to the context</span>
        <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>(<span style="font-weight: bold;">self</span>.model._meta))
        <span style="font-weight: bold; font-style: italic;">context</span>[<span style="font-style: italic;">'model_name'</span>] = <span style="font-weight: bold;">self</span>.model._meta.verbose_name_plural
        <span style="font-weight: bold;">return</span> context
</pre>
</div>

<p>
Result:
</p>

<div class="org-src-container">
<pre class="src src-bash">[<span style="font-style: italic;">'FORWARD_PROPERTIES'</span>, <span style="font-style: italic;">'REVERSE_PROPERTIES'</span>, <span style="font-style: italic;">'__class__'</span>, <span style="font-style: italic;">'__delattr__'</span>, <span style="font-style: italic;">'__dict__'</span>, <span style="font-style: italic;">'__dir__'</span>, <span style="font-style: italic;">'__doc__'</span>, <span style="font-style: italic;">'__eq__'</span>, <span style="font-style: italic;">'__format__'</span>, <span style="font-style: italic;">'__ge__'</span>, <span style="font-style: italic;">'__getattribute__'</span>, <span style="font-style: italic;">'__gt__'</span>, <span style="font-style: italic;">'__hash__'</span>, <span style="font-style: italic;">'__init__'</span>, <span style="font-style: italic;">'__init_subclass__'</span>, <span style="font-style: italic;">'__le__'</span>, <span style="font-style: italic;">'__lt__'</span>, <span style="font-style: italic;">'__module__'</span>, <span style="font-style: italic;">'__ne__'</span>, <span style="font-style: italic;">'__new__'</span>, <span style="font-style: italic;">'__reduce__'</span>, <span style="font-style: italic;">'__reduce_ex__'</span>, <span style="font-style: italic;">'__repr__'</span>, <span style="font-style: italic;">'__setattr__'</span>, <span style="font-style: italic;">'__sizeof__'</span>, <span style="font-style: italic;">'__str__'</span>, <span style="font-style: italic;">'__subclasshook__'</span>, <span style="font-style: italic;">'__weakref__'</span>, <span style="font-style: italic;">'_expire_cache'</span>, <span style="font-style: italic;">'_format_names_with_class'</span>, <span style="font-style: italic;">'_forward_fields_map'</span>, <span style="font-style: italic;">'_get_default_pk_class'</span>, <span style="font-style: italic;">'_get_fields'</span>, <span style="font-style: italic;">'_get_fields_cache'</span>, <span style="font-style: italic;">'_non_pk_concrete_field_names'</span>, <span style="font-style: italic;">'_ordering_clash'</span>, <span style="font-style: italic;">'_populate_directed_relation_graph'</span>, <span style="font-style: italic;">'_prepare'</span>, <span style="font-style: italic;">'_property_names'</span>, <span style="font-style: italic;">'_relation_tree'</span>, <span style="font-style: italic;">'abstract'</span>, <span style="font-style: italic;">'add_field'</span>, <span style="font-style: italic;">'add_manager'</span>, <span style="font-style: italic;">'app_config'</span>, <span style="font-style: italic;">'app_label'</span>, <span style="font-style: italic;">'apps'</span>, <span style="font-style: italic;">'auto_created'</span>, <span style="font-style: italic;">'auto_field'</span>, <span style="font-style: italic;">'base_manager'</span>, <span style="font-style: italic;">'base_manager_name'</span>, <span style="font-style: italic;">'can_migrate'</span>, <span style="font-style: italic;">'concrete_fields'</span>, <span style="font-style: italic;">'concrete_model'</span>, <span style="font-style: italic;">'constraints'</span>, <span style="font-style: italic;">'contribute_to_class'</span>, <span style="font-style: italic;">'db_returning_fields'</span>, <span style="font-style: italic;">'db_table'</span>, <span style="font-style: italic;">'db_table_comment'</span>, <span style="font-style: italic;">'db_tablespace'</span>, <span style="font-style: italic;">'default_apps'</span>, <span style="font-style: italic;">'default_manager'</span>, <span style="font-style: italic;">'default_manager_name'</span>, <span style="font-style: italic;">'default_permissions'</span>, <span style="font-style: italic;">'default_related_name'</span>, <span style="font-style: italic;">'fields'</span>, <span style="font-style: italic;">'fields_map'</span>, <span style="font-style: italic;">'get_ancestor_link'</span>, <span style="font-style: italic;">'get_base_chain'</span>, <span style="font-style: italic;">'get_field'</span>, <span style="font-style: italic;">'get_fields'</span>, <span style="font-style: italic;">'get_latest_by'</span>, <span style="font-style: italic;">'get_parent_list'</span>, <span style="font-style: italic;">'get_path_from_parent'</span>, <span style="font-style: italic;">'get_path_to_parent'</span>, <span style="font-style: italic;">'index_together'</span>, <span style="font-style: italic;">'indexes'</span>, <span style="font-style: italic;">'label'</span>, <span style="font-style: italic;">'label_lower'</span>, <span style="font-style: italic;">'local_concrete_fields'</span>, <span style="font-style: italic;">'local_fields'</span>, <span style="font-style: italic;">'local_managers'</span>, <span style="font-style: italic;">'local_many_to_many'</span>, <span style="font-style: italic;">'managed'</span>, <span style="font-style: italic;">'managers'</span>, <span style="font-style: italic;">'managers_map'</span>, <span style="font-style: italic;">'many_to_many'</span>, <span style="font-style: italic;">'model'</span>, <span style="font-style: italic;">'model_name'</span>, <span style="font-style: italic;">'object_name'</span>, <span style="font-style: italic;">'order_with_respect_to'</span>, <span style="font-style: italic;">'ordering'</span>, <span style="font-style: italic;">'original_attrs'</span>, <span style="font-style: italic;">'parents'</span>, <span style="font-style: italic;">'permissions'</span>, <span style="font-style: italic;">'pk'</span>, <span style="font-style: italic;">'private_fields'</span>, <span style="font-style: italic;">'proxy'</span>, <span style="font-style: italic;">'proxy_for_model'</span>, <span style="font-style: italic;">'related_fkey_lookups'</span>, <span style="font-style: italic;">'related_objects'</span>, <span style="font-style: italic;">'required_db_features'</span>, <span style="font-style: italic;">'required_db_vendor'</span>, <span style="font-style: italic;">'select_on_save'</span>, <span style="font-style: italic;">'setup_pk'</span>, <span style="font-style: italic;">'setup_proxy'</span>, <span style="font-style: italic;">'swappable'</span>, <span style="font-style: italic;">'swapped'</span>, <span style="font-style: italic;">'total_unique_constraints'</span>, <span style="font-style: italic;">'unique_together'</span>, <span style="font-style: italic;">'verbose_name'</span>, <span style="font-style: italic;">'verbose_name_plural'</span>, <span style="font-style: italic;">'verbose_name_raw'</span>]
</pre>
</div>
</div>
</div>

<div id="outline-container-org7df8ed7" class="outline-3">
<h3 id="org7df8ed7"><span class="section-number-3">1.12.</span> Print out ALL info about the object</h3>
<div class="outline-text-3" id="text-1-12">
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">OneListView</span>(ListView):
    <span style="font-weight: bold; font-style: italic;">model</span> = One
    <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>())
    <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">locals</span>())

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, *args, **kwargs):
        <span style="font-weight: bold;">super</span>().__init__(*args, **kwargs)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the docstring</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Docstring:"</span>, <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__doc__</span>)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the base classes</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Base classes:"</span>, <span style="font-weight: bold;">self</span>.__class__.__bases__)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the class dictionary</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Class dictionary:"</span>, <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__dict__</span>)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the class methods</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Class methods:"</span>)
        <span style="font-weight: bold;">for</span> key, value <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.__class__.<span style="font-weight: bold;">__dict__</span>.items():
            <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">callable</span>(value):
                <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"</span><span style="font-weight: bold; text-decoration: underline;">\t</span><span style="font-style: italic;">"</span>, key, <span style="font-style: italic;">":"</span>, value)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the instance dictionary</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Instance dictionary:"</span>, <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__dict__</span>)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the instance methods</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Instance methods:"</span>)
        <span style="font-weight: bold;">for</span> key, value <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__dict__</span>.items():
            <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">callable</span>(value):
                <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"</span><span style="font-weight: bold; text-decoration: underline;">\t</span><span style="font-style: italic;">"</span>, key, <span style="font-style: italic;">":"</span>, value)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc87477b" class="outline-3">
<h3 id="orgc87477b"><span class="section-number-3">1.13.</span> Add a custom variable to object list</h3>
<div class="outline-text-3" id="text-1-13">
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">from</span> django.shortcuts <span style="font-weight: bold;">import</span> render
<span style="font-weight: bold;">from</span> django.views <span style="font-weight: bold;">import</span> generic

<span style="font-weight: bold;">from</span> three.models <span style="font-weight: bold;">import</span> Three

<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">ThreeListView</span>(generic.ListView):
    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">model = One is shorthand for saying queryset = One.objects.all()</span>
    <span style="font-weight: bold; font-style: italic;">model</span> = Three
    <span style="font-weight: bold; font-style: italic;">template_name</span> = <span style="font-style: italic;">'list_view.html'</span>
    <span style="font-weight: bold; font-style: italic;">context_object_name</span> = <span style="font-style: italic;">'object_list'</span>

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_context_data</span>(<span style="font-weight: bold;">self</span>, **kwargs):
        <span style="font-weight: bold; font-style: italic;">context</span> = <span style="font-weight: bold;">super</span>().get_context_data(**kwargs)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">print(f"CONTEXT IS HERE {context}")</span>
        <span style="font-weight: bold; font-style: italic;">context</span>[<span style="font-style: italic;">'model_name'</span>] = <span style="font-weight: bold;">self</span>.model.<span style="font-weight: bold;">__name__</span>.lower()  <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Lowercase model name</span>
        <span style="font-weight: bold; font-style: italic;">context</span>[<span style="font-style: italic;">'model_name_plural'</span>] = <span style="font-weight: bold;">self</span>.model._meta.verbose_name_plural  <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Plural form of model name</span>
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">print(f"UPDATED IS HERE {context}")</span>
        <span style="font-weight: bold;">return</span> context
</pre>
</div>

<p>
Can then use it in the templates like so:
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="font-weight: bold;">h1</span>&gt;<span style="font-weight: bold; text-decoration: underline;">List of {{ model_name_plural }}</span>&lt;/<span style="font-weight: bold;">h1</span>&gt;

<span style="font-weight: bold; font-style: italic;">&lt;!-- </span><span style="font-weight: bold; font-style: italic;">{% if "three" in model_name_plural %}</span>
<span style="font-weight: bold; font-style: italic;">    &lt;p&gt;Hello&lt;/p&gt;</span>
<span style="font-weight: bold; font-style: italic;">{% else %}</span>
<span style="font-weight: bold; font-style: italic;">    &lt;p&gt;NOTTTTTTTT&lt;/p&gt;</span>
<span style="font-weight: bold; font-style: italic;">{% endif %}</span><span style="font-weight: bold; font-style: italic;"> --&gt;</span>

&lt;<span style="font-weight: bold;">ul</span> <span style="font-weight: bold; font-style: italic;">id</span>=<span style="font-style: italic;">"{{model_name_plural}} object_list"</span>&gt;
    {% for instance in object_list %}
        &lt;<span style="font-weight: bold;">p</span>&gt;Hello&lt;/<span style="font-weight: bold;">p</span>&gt;

        <span style="font-weight: bold; font-style: italic;">&lt;!-- </span><span style="font-weight: bold; font-style: italic;">&lt;li&gt;&lt;a href="{% url model_name|add:'_detail' pk=instance.pk %}"&gt;{{ instance }}&lt;/a&gt;&lt;/li&gt;</span><span style="font-weight: bold; font-style: italic;"> --&gt;</span>
    {% endfor %}
&lt;/<span style="font-weight: bold;">ul</span>&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb6be6de" class="outline-3">
<h3 id="orgb6be6de"><span class="section-number-3">1.14.</span> _meta !!!!!!!!!!!</h3>
<div class="outline-text-3" id="text-1-14">
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">TwoListView</span>(ListView):
    <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">model = One is shorthand for saying queryset = One.objects.all()</span>
    <span style="font-weight: bold; font-style: italic;">model</span> = Two

    <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>(model._meta))
    <span style="font-weight: bold; font-style: italic;">paginate_by</span> = 15
</pre>
</div>
</div>
</div>

<div id="outline-container-org8eaff68" class="outline-3">
<h3 id="org8eaff68"><span class="section-number-3">1.15.</span> Create a debugging decorator! Printerino</h3>
<div class="outline-text-3" id="text-1-15">
<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">def</span> <span style="font-weight: bold;">printerino</span>(cls):
    <span style="font-style: italic;">'''</span>
<span style="font-style: italic;">    The printerino function takes a class as input (cls) and prints out various </span>
<span style="font-style: italic;">    information about it when called.</span>

<span style="font-style: italic;">    The __init__ method within the printerino function is modified to print out </span>
<span style="font-style: italic;">    additional information about the class and its instances.</span>

<span style="font-style: italic;">    The @printerino decorator is used to apply the printerino functionality to </span>
<span style="font-style: italic;">    the OneListView class. This effectively modifies the __init__ method of </span>
<span style="font-style: italic;">    OneListView to include the printing functionality.</span>

<span style="font-style: italic;">    idomu del ko su GreetingView neveikia pilnai, bet su OneListView veikia.</span>
<span style="font-style: italic;">    '''</span>

    <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">dir</span>(cls))
    <span style="font-weight: bold;">print</span>(<span style="font-weight: bold;">locals</span>())

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, *args, **kwargs):
        <span style="font-weight: bold;">super</span>(cls, <span style="font-weight: bold;">self</span>).__init__(*args, **kwargs)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the docstring</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Docstring:"</span>, <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__doc__</span>)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the base classes</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Base classes:"</span>, <span style="font-weight: bold;">self</span>.__class__.__bases__)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the class dictionary</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Class dictionary:"</span>, <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__dict__</span>)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the class methods</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Class methods:"</span>)
        <span style="font-weight: bold;">for</span> key, value <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.__class__.<span style="font-weight: bold;">__dict__</span>.items():
            <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">callable</span>(value):
                <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"</span><span style="font-weight: bold; text-decoration: underline;">\t</span><span style="font-style: italic;">"</span>, key, <span style="font-style: italic;">":"</span>, value)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the instance dictionary</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Instance dictionary:"</span>, <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__dict__</span>)

        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">Print the instance methods</span>
        <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"Instance methods:"</span>)
        <span style="font-weight: bold;">for</span> key, value <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">__dict__</span>.items():
            <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">callable</span>(value):
                <span style="font-weight: bold;">print</span>(<span style="font-style: italic;">"</span><span style="font-weight: bold; text-decoration: underline;">\t</span><span style="font-style: italic;">"</span>, key, <span style="font-style: italic;">":"</span>, value)

    cls.<span style="font-weight: bold; font-style: italic;">__init__</span> = __init__
    <span style="font-weight: bold;">return</span> cls
</pre>
</div>

<p>
Then to use it in the python code, add this above the classes:  <code>@printerino</code>
</p>
</div>
</div>
</div>

<div id="outline-container-orgd1dac29" class="outline-2">
<h2 id="orgd1dac29"><span class="section-number-2">2.</span> Repetitive tasks</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-org5ee3c7c" class="outline-3">
<h3 id="org5ee3c7c"><span class="section-number-3">2.1.</span> Add css</h3>
<div class="outline-text-3" id="text-2-1">
<p>
To <code>base.html</code> add:
</p>

<p>
At the very top:
</p>

<div class="org-src-container">
<pre class="src src-python">{% load static %}
</pre>
</div>

<p>
In head add:
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="font-weight: bold;">link</span> <span style="font-weight: bold; font-style: italic;">rel</span>=<span style="font-style: italic;">"stylesheet"</span> <span style="font-weight: bold; font-style: italic;">type</span>=<span style="font-style: italic;">"text/css"</span> <span style="font-weight: bold; font-style: italic;">href</span>=<span style="font-style: italic;">"{% static 'css/styles.css' %}"</span>&gt;
</pre>
</div>

<p>
Root dir, create static folder, inside of it, css folder, inside of it,
<code>styles.css</code> file. Test content for example:
</p>

<div class="org-src-container">
<pre class="src src-css"><span style="font-weight: bold;">body</span> {
    <span style="font-weight: bold;">background-color</span>: <span style="color: #ffffff; background-color: #ff0000;">red</span>;
}
</pre>
</div>

<p>
Hard reload the page <code>ctrl+r</code> and css should work.
</p>
</div>
</div>

<div id="outline-container-org843f911" class="outline-3">
<h3 id="org843f911"><span class="section-number-3">2.2.</span> Create and implement <code>base.html</code></h3>
<div class="outline-text-3" id="text-2-2">
<p>
<a href="https://stackoverflow.com/questions/14720464/django-project-base-template">https://stackoverflow.com/questions/14720464/django-project-base-template</a>
</p>

<p>
Create <code>base.html</code> file:
</p>

<div class="org-src-container">
<pre class="src src-html">&lt;<span style="font-weight: bold;">!DOCTYPE</span> html&gt;
&lt;<span style="font-weight: bold;">html</span>&gt;
&lt;<span style="font-weight: bold;">head</span>&gt;
    &lt;<span style="font-weight: bold;">title</span>&gt;<span style="font-weight: bold; text-decoration: underline;">Project</span>&lt;/<span style="font-weight: bold;">title</span>&gt;
&lt;/<span style="font-weight: bold;">head</span>&gt;
&lt;<span style="font-weight: bold;">body</span>&gt;
{% block content %}

{% endblock %}
&lt;/<span style="font-weight: bold;">body</span>&gt;
&lt;/<span style="font-weight: bold;">html</span>&gt;
</pre>
</div>

<p>
extend it:
</p>

<div class="org-src-container">
<pre class="src src-html">{% extends "base.html" %}

{% block content %}
    &lt;<span style="font-weight: bold;">h2</span>&gt;<span style="font-weight: bold; font-style: italic; text-decoration: underline;">Content for My App</span>&lt;/<span style="font-weight: bold;">h2</span>&gt;
    &lt;<span style="font-weight: bold;">p</span>&gt;Stuff etc etc.&lt;/<span style="font-weight: bold;">p</span>&gt;
{% endblock content %}
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org103c2dc" class="outline-2">
<h2 id="org103c2dc"><span class="section-number-2">3.</span> Debugging tools</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-orga979a8f" class="outline-3">
<h3 id="orga979a8f"><span class="section-number-3">3.1.</span> Debugging with VScode</h3>
<div class="outline-text-3" id="text-3-1">
<p>
Can debug with Vscode easy - <a href="https://code.visualstudio.com/docs/editor/debugging">https://code.visualstudio.com/docs/editor/debugging</a>
</p>

<p>
Can debug admin code also. Just have to be a method to debug, can not simply debug nothingness?
</p>

<p>
Can use the `launch.json` config below:
</p>

<div class="org-src-container">
<pre class="src src-json">{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Shipping",
            "python": "C:\\Users\\S2753G\\Envs\\shipping\\Scripts\\python.exe",
            "type": "python",
            "request": "launch",
            "program": "C:\\Users\\S2753G\\OneDrive - SEB\\GIT\\shipping\\code\\backend\\app\\manage.py",
            "console": "internalConsole",
            "args": [
                "runserver"
            ],
            "django": true,
            "justMyCode": true
        }
    ]
}
</pre>
</div>
</div>
</div>

<div id="outline-container-org3794389" class="outline-3">
<h3 id="org3794389"><span class="section-number-3">3.2.</span> Debugging with pdb</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Import pdb to your file:
</p>

<div class="org-src-container">
<pre class="src src-python"><span style="font-weight: bold;">import</span> pdb;
</pre>
</div>

<p>
Set a breakpoint in your code like such:
</p>

<div class="org-src-container">
<pre class="src src-python">pdb.set_trace()
</pre>
</div>
<p>
Then execute the code, or in django case, run the page, can be an admin page.
</p>

<p>
See the commands available here -
<a href="https://djangostars.com/blog/debugging-python-applications-with-pdb/">https://djangostars.com/blog/debugging-python-applications-with-pdb/</a>
</p>
</div>
</div>

<div id="outline-container-orgc586e3c" class="outline-3">
<h3 id="orgc586e3c"><span class="section-number-3">3.3.</span> Emacs and dap mode?</h3>
<div class="outline-text-3" id="text-3-3">
<p>
Not much information on this topic
</p>

<p>
Found this - <a href="https://github.com/emacs-lsp/dap-mode/issues/229">https://github.com/emacs-lsp/dap-mode/issues/229</a>, asked Seanfarly
in person, replied to me under github ticket
</p>

<p>
Wrote a question in reddit, no response -
<a href="https://www.reddit.com/r/emacs/comments/1agxcb9/debugging_a_django_app_with_dapmode/">https://www.reddit.com/r/emacs/comments/1agxcb9/debugging_a_django_app_with_dapmode/</a>
</p>
</div>

<div id="outline-container-org44ff7ba" class="outline-4">
<h4 id="org44ff7ba"><span class="section-number-4">3.3.1.</span> Asked in "dape" mode issue log</h4>
<div class="outline-text-4" id="text-3-3-1">
<p>
<a href="https://github.com/svaante/dape/issues/62">https://github.com/svaante/dape/issues/62</a> after noticing Torstein mention it here - <a href="https://www.reddit.com/r/emacs/comments/1133gvq/eglot_and_debugging_python/?share_id=snq4RQaJqMQ66DwTl1L_F&amp;utm_content=1&amp;utm_medium=android_app&amp;utm_name=androidcss&amp;utm_source=share&amp;utm_term=1">https://www.reddit.com/r/emacs/comments/1133gvq/eglot_and_debugging_python/?share_id=snq4RQaJqMQ66DwTl1L_F&amp;utm_content=1&amp;utm_medium=android_app&amp;utm_name=androidcss&amp;utm_source=share&amp;utm_term=1</a> and in his video here - <a href="https://www.youtube.com/watch?si=yYFpkMQlMUFpcn_n&amp;v=YKkyfz4cU8g&amp;feature=youtu.be">https://www.youtube.com/watch?si=yYFpkMQlMUFpcn_n&amp;v=YKkyfz4cU8g&amp;feature=youtu.be</a>
</p>
</div>
</div>
</div>

<div id="outline-container-org8fd526f" class="outline-3">
<h3 id="org8fd526f"><span class="section-number-3">3.4.</span> Torstein reply</h3>
<div class="outline-text-3" id="text-3-4">
<p>
&gt;I've never used Django, so I don't know the specifics. The crux is being able
to launch Django from Emacs. Then you can debug anything. AFAICT from
<a href="https://docs.djangoproject.com/en/5.0/howto/deployment/">https://docs.djangoproject.com/en/5.0/howto/deployment/</a>, Django can both run
inside an Apache module and with WISGI and other native Python ways. If you can
launch your Django app with python3 &lt;something&gt;, then you can debug it with
dape.
</p>

<p>
How do you find dape mode so far?
</p>

<p>
Pretty happy with it so far, it's fairly fast and has some good defaults. I'm
not doing Python development full time, sadly, I'm constantly juggling products
and technology stacks. Thus, there can be weeks and even months between each
time I get to do heavy Python development, in which I need a debugger.
</p>
</div>
</div>

<div id="outline-container-orgadc6dc1" class="outline-3">
<h3 id="orgadc6dc1"><span class="section-number-3">3.5.</span> Plumber and different tools</h3>
<div class="outline-text-3" id="text-3-5">
<p>
&gt;ever seen a plumber use the same wrench for all the pipes? Different tools for
deferent jobs. Multiple IDE's, code editors for different jobs.
</p>
</div>
</div>

<div id="outline-container-org5de0c06" class="outline-3">
<h3 id="org5de0c06"><span class="section-number-3">3.6.</span> Pycharm - Karina</h3>
<div class="outline-text-3" id="text-3-6">
<p>
swears by it
</p>

<p>
Pasak jos pycharm visa tai rodo.
</p>

<p>
&gt;Labas, gal turi koki gudrybi kaip django pasiekti request, context, args, kwargs, template tags, etc? Viska, kas vaikto tarp serverio ir client padarius requestus, paspaudus mygtukus admin consoleje ir pan. Neinau net kaip vardinti, nes neinau ko tiksliai iekau. Django debug toolbare kakaip nematau visos visos info. A jauiu, matant tai ir suprantant tai - bt kaifas. Skraidyciau.
</p>

<p>
Kazkur dar skaiau, kad pycharm turi built in Django debugging support. lolz..
</p>


<p>
maybe give pycharm a try? Ask Karina for help to see how to debug, how to see
all the variables I need to see. querysets, args, kwargs, request stuff, parameters, etc
</p>
</div>
</div>
</div>
<div id="outline-container-org223c14f" class="outline-2">
<h2 id="org223c14f"><span class="section-number-2">4.</span> Useful packages</h2>
<div class="outline-text-2" id="text-4">
<p>
Debug toolbar ir dar tas kitas kur leidzia runserver plus
</p>
</div>
<div id="outline-container-org18993c8" class="outline-3">
<h3 id="org18993c8"><span class="section-number-3">4.1.</span> Debug toolbar</h3>
<div class="outline-text-3" id="text-4-1">
<p>
how to install and configure ir pan
</p>
</div>
</div>

<div id="outline-container-orge1749de" class="outline-3">
<h3 id="orge1749de"><span class="section-number-3">4.2.</span> django extensions</h3>
<div class="outline-text-3" id="text-4-2">
<p>
Can use a fancy shell(ipython, print sql, jupyter, etc)
</p>

<p>
<a href="https://django-extensions.readthedocs.io/en/latest/index.html">https://django-extensions.readthedocs.io/en/latest/index.html</a>
</p>

<p>
A few of the subpages below use it, kind of nice
</p>

<p>
To use them properly, do this:
</p>

<p>
`pip install django-extensions`
Add `"django_extensions",` to `settings.py` installed apps section.
</p>

<p>
## Shell_plus
</p>

<p>
`pip install ipython` - will use ipython by default when running shell - <a href="https://django-extensions.readthedocs.io/en/latest/shell_plus.html">https://django-extensions.readthedocs.io/en/latest/shell_plus.html</a>#
</p>

<p>
<a href="https://django-extensions.readthedocs.io/en/latest/shell_plus.html#sql-queries">https://django-extensions.readthedocs.io/en/latest/shell_plus.html#sql-queries</a> - `python manage.py shell_plus &#x2013;print-sql`
</p>

<p>
`pip install jupyter` So now can run `python manage.py shell_plus &#x2013;lab`
</p>

<p>
If you want to run &#x2013;notebook, downgrade to lower version:
</p>

<p>
`pip install notebook==6.5.6`
</p>

<p>
<a href="https://gist.github.com/EtsuNDmA/dd8949061783bf593706559374c8f635">https://gist.github.com/EtsuNDmA/dd8949061783bf593706559374c8f635</a>
</p>

<p>
If getting such errors - <a href="https://github.com/django-extensions/django-extensions/issues/1533">https://github.com/django-extensions/django-extensions/issues/1533</a> async bs, 
Same issue described here - <a href="https://stackoverflow.com/questions/59119396/how-to-use-django-3-0-orm-in-a-jupyter-notebook-without-triggering-the-async-con">https://stackoverflow.com/questions/59119396/how-to-use-django-3-0-orm-in-a-jupyter-notebook-without-triggering-the-async-con</a>
</p>

<p>
then try to add one more thing to settings.py:
</p>

<p>
`os.environ["DJANGO_ALLOW_ASYNC_UNSAFE"] = "true"`
</p>


<p>
total configas kuri reikia prideti:
</p>


<p>
```python
NOTEBOOK_DIR = BASE_DIR / "notebooks" # save notebooks in a dedicated folder
os.environ["DJANGO_ALLOW_ASYNC_UNSAFE"] = "true" # allow to run ORM queries
```
</p>
</div>
</div>
</div>


<div id="outline-container-org8114190" class="outline-2">
<h2 id="org8114190"><span class="section-number-2">5.</span> <span class="todo TODO">TODO</span> Django best practices??????????????????????????/</h2>
<div class="outline-text-2" id="text-5">
<p>
Here I will write the tips that I found and that I use when building a Django
project.
</p>
</div>

<div id="outline-container-org25d2d35" class="outline-3">
<h3 id="org25d2d35"><span class="section-number-3">5.1.</span> Instead of /admin change to smth else URL Django</h3>
<div class="outline-text-3" id="text-5-1">
<p>
For security. Everyone knows that if its a django project, it will have an
admin page
</p>
</div>
</div>

<div id="outline-container-org8d89f0e" class="outline-3">
<h3 id="org8d89f0e"><span class="section-number-3">5.2.</span> Use environment variables</h3>
<div class="outline-text-3" id="text-5-2">
<ul class="org-ul">
<li>for secret key</li>
<li>for database name/location</li>
<li>api keys</li>
<li>other things if needed</li>
</ul>
</div>
</div>

<div id="outline-container-org4b0b50f" class="outline-3">
<h3 id="org4b0b50f"><span class="section-number-3">5.3.</span> Use postgres db</h3>
<div class="outline-text-3" id="text-5-3">
<p>
Kind of default ageed db to use with Django
</p>
</div>
</div>

<div id="outline-container-org34a6e68" class="outline-3">
<h3 id="org34a6e68"><span class="section-number-3">5.4.</span> Use two different settings files</h3>
<div class="outline-text-3" id="text-5-4">
<p>
One for prod another for acc(test) environment
</p>

<p>
Like described in here TODO split django settings into multiple files(TODO - add
from notes)
</p>
</div>
</div>

<div id="outline-container-orgbbd77e9" class="outline-3">
<h3 id="orgbbd77e9"><span class="section-number-3">5.5.</span> Expanding user model to store more user information</h3>
<div class="outline-text-3" id="text-5-5">
<p>
As described in my other post <a href="20231128T132201--expanding-user-model__django_sql.html">here</a>.
</p>
</div>
</div>

<div id="outline-container-orgfe82f93" class="outline-3">
<h3 id="orgfe82f93"><span class="section-number-3">5.6.</span> Update django every major version once every 9 months</h3>
<div class="outline-text-3" id="text-5-6">
<p>
Python -wd runserver depreciation warnings
</p>
</div>
</div>

<div id="outline-container-org1b03a60" class="outline-3">
<h3 id="org1b03a60"><span class="section-number-3">5.7.</span> Renaming Django project</h3>
<div class="outline-text-3" id="text-5-7">
<p>
From Lifeapi to Lifeapi_project according to these instructions:
</p>

<p>
Used ctrl+shift+f to find all occurances or lifeapi and change to
lifeapi_project.
</p>

<p>
In Django, renaming a project involves a few steps, but it can be done
relatively easily. Here's a high-level overview of the process:
</p>

<p>
Rename the project directory: Rename the root directory of your Django
project to the new desired name.
</p>

<p>
Update the manage.py file: Open the manage.py file in the root
directory and update the DJANGO_SETTINGS_MODULE variable to point to
the new project name.
</p>

<p>
Update the WSGI file (if applicable): If you're using a WSGI server
like Apache or Nginx, update the WSGI file to reflect the new project
name.
</p>

<p>
Update the project's configuration files:
</p>

<p>
Rename the main project package folder: Inside the renamed project
directory, rename the main package folder (the one containing
settings.py, urls.py, etc.) to the new project name.
</p>

<p>
Update the ROOT_URLCONF setting: In the settings.py file, update the
ROOT_URLCONF variable to point to the new project name.
</p>

<p>
Update references in code and configuration files:
</p>

<p>
Search for any references to the old project name in your codebase and
update them to use the new project name.
</p>

<p>
Update any file paths or URLs that reference the old project name.
</p>

<p>
Test and validate: After making the above changes, test your project
to ensure it runs correctly. Run migrations, start the development
server, and navigate through your application to verify that
everything functions as expected.
</p>

<p>
It's important to note that renaming a project can have implications
for version control systems, deployment configurations, and other
related tools. Make sure to update any relevant configurations or
scripts that reference the old project name.
</p>

<p>
While Django does not provide an automated way to rename a project,
following the steps outlined above should allow you to rename your
project successfully.
</p>
</div>
</div>

<div id="outline-container-org6baf25c" class="outline-3">
<h3 id="org6baf25c"><span class="section-number-3">5.8.</span> move apps to apps folder</h3>
<div class="outline-text-3" id="text-5-8">
<p>
After creating an app, move it into apps folder, then change the
following things:
</p>

<p>
Possibly delete migrations
</p>

<p>
new app - <code>apps.py</code> file, write a proper name - name = <code>lifeapi_apps.base_app</code>
</p>

<p>
-urls.py- of the <b><b>project</b></b>, write:
</p>

<div class="org-src-container">
<pre class="src src-python">path(<span style="font-style: italic;">""</span>, include(<span style="font-style: italic;">"lifeapi_apps.base_app.urls"</span>)),
</pre>
</div>

<p>
In <code>settings.py</code>, next to installed apps - <code>'lifeapi_apps.base_app'</code>
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<hr/>
	 <footer>
	 <div class="copyright-container">
	 <div class="copyright">
	 Copyright &copy; 2023-2024 Arvydas Gasparavicius
	 </div>
	 </div>
	 <p class="date">This org file is <u>exported</u> to HTML: 2024-05-29 Wed 17:03</p>
	 <p class="date">This org file is last <u>modified</u>: 2024-05-29 Wed 17:02</p>
	 <p class="date">This org file is <u>created</u>: 2024-01-25 Thu 16:29</p>
	 <div class="generated">
	Created with <a href="https://www.gnu.org/software/emacs/">Emacs</a> 29.3 (<a href="https://orgmode.org">Org</a> mode 9.6.15) on <a href="https://www.gnu.org">GNU</a>/<a href="https://www.kernel.org/">Linux</a>
	</div>
	</footer>
	 <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
	 <script src="./static/js/generic.js"></script>
	 <script src="./static/js/scroll-to-top.js"></script>
	 <script src="./static/js/lightbox.js"></script>
	 <script src="./static/js/test.js"></script>
	 <script src="./static/js/search.js"></script>
</div>
</body>
</html>
